{"mappings":"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","sources":["node_modules/node-fetch/browser.js","src/index.js"],"sourcesContent":["\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar globalObject = getGlobal();\n\nmodule.exports = exports = globalObject.fetch;\n\n// Needed for TypeScript and Webpack.\nif (globalObject.fetch) {\n\texports.default = globalObject.fetch.bind(globalObject);\n}\n\nexports.Headers = globalObject.Headers;\nexports.Request = globalObject.Request;\nexports.Response = globalObject.Response;\n","// SimpleLightbox import\n// Descris în documentație\n// import SimpleLightbox from 'simplelightbox';\n// // Import suplimentar de stil\n// import 'simplelightbox/dist/simple-lightbox.min.css';\n\n// Axios import\n// import axios from 'axios';\n\n// Lodash import\n// var _ = require('lodash');\n\n// Fetch2 import for Api\nconst fetch = require('node-fetch');\n\n// function navigateTo(path) {\n//   // Add a new entry to the history and update the URL\n//   history.pushState(null, null, path);\n//   // Update the content dynamically based on the selected path\n//   updateContent('./index.html');\n// }\n\nwindow.addEventListener('keyup', event => {\n  if (event.key === 'Escape') {\n    if (modalWindow.classList.contains('is-hidden')) {\n      return;\n    } else {\n      modalWindow.classList.add('is-hidden');\n    }\n  }\n});\n\n// Local storage functions\nconst save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nconst remove = key => {\n  try {\n    const serializedState = localStorage.removeItem(key);\n    return serializedState === null\n      ? undefined\n      : JSON.stringify(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nfunction setTheme(theme) {\n  if (theme == 'dark') {\n    remove('current-theme');\n    save('current-theme', 'dark');\n    document.documentElement.style.setProperty('--white', '#8c8c8c');\n    document.documentElement.style.setProperty('--gray', '#fff');\n    document.documentElement.style.setProperty('--light-gray', '#fff');\n    document.documentElement.style.setProperty('--red', '#fff');\n    document.documentElement.style.setProperty('--footer-bg', '#545454');\n    document.documentElement.style.setProperty('--blue', '#b92f2c');\n\n    document.documentElement.style.setProperty('--black', '#fff');\n    // alert('dark');\n  }\n  if (theme == 'light') {\n    remove('current-theme');\n    save('current-theme', 'light');\n    document.documentElement.style.setProperty('--white', '#fff');\n    document.documentElement.style.setProperty('--gray', '#545454');\n    document.documentElement.style.setProperty('--light-gray', '#8c8c8c');\n    document.documentElement.style.setProperty('--red', '#ff6b08');\n    document.documentElement.style.setProperty('--footer-bg', '#f7f7f7');\n    document.documentElement.style.setProperty('--blue', 'rgb(16, 16, 211)');\n\n    document.documentElement.style.setProperty('--black', '#000');\n  }\n}\n\nlet toggle = document.querySelector('label#toggle');\n// console.log(toggle);\nlet toggleClass = toggle.getAttribute('class');\n// console.log(toggleClass);\n\nconst darkThemeButton = document.querySelector('.checkbox');\n\nvar issChecked = darkThemeButton.checked;\nconst curentTheme = load('current-theme');\n\nif (\n  curentTheme === undefined ||\n  issChecked == false ||\n  curentTheme.includes('light')\n) {\n  let toggleClass = toggle.getAttribute('class');\n\n  toggle.classList.remove('switched');\n  toggle.classList.add('toggle');\n  // console.log(toggleClass);\n  console.log(issChecked);\n\n  remove('current-theme');\n  save('current-theme', 'light');\n  setTheme('light');\n  issChecked = false;\n}\n\nif (curentTheme.includes('dark') || issChecked == true) {\n  toggle.classList.remove('toggle');\n  toggle.classList.add('switched');\n  // console.log(toggleClass);\n  console.log(issChecked);\n\n  remove('current-theme');\n  save('current-theme', 'dark');\n  setTheme('dark');\n  issChecked = true;\n}\n\nconsole.log(issChecked);\n\nconst body = document.body;\n\nconst libraryButton = document.querySelector('.header-library-button');\n\nconst headerBottomButtonsContainer = document.querySelector(\n  '.header-bottom-buttons-container'\n);\n\nconst headerWatchedButton = document.querySelector('.header-watched-button');\n\nconst headerClearWatchedButton = document.querySelector(\n  '.header-clear-watched-button'\n);\n\nconst headerQueuedButton = document.querySelector('.header-queue-button');\n\nconst headerClearQueuedButton = document.querySelector(\n  '.header-clear-queue-button'\n);\n\nconst headerInput = document.querySelector('.search-form-input');\n// console.log(headerInput);\n\nlet searchText = null;\n\n// const paginationContainer = document.querySelector('.pagination');\n\n// searchText = headerInput.value.replace(/ /g, '%20');\n// console.log(searchText);\n\nconst headerSearchBtn = document.querySelector('.search-form-button');\n// console.log(headerSearchBtn);\n\nconst headerFormErrorMessage = document.querySelector('.header__error');\n\nconst heroList = document.querySelector('.gallery');\n\nconst apiKey = '90080ff184cabebdf1b42eaa88fb5738';\n\nconst noImageUrl =\n  'https://lascrucesfilmfest.com/wp-content/uploads/2018/01/no-poster-available.jpg';\n\nconst trendingMoviesUrl = `https://api.themoviedb.org/3/trending/movie/day?language=en-US&page=${currentPage}`;\n\nconst genresApiUrl = `https://api.themoviedb.org/3/genre/movie/list?language=en&page=${currentPage}`;\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5MDA4MGZmMTg0Y2FiZWJkZjFiNDJlYWE4OGZiNTczOCIsInN1YiI6IjY2NjAyNTUwN2MwMjgyZWYzMDRmNjAxOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.-GiosJEhvb8JZPRVsDWYKnyMuBuXM_jJXaHMa3NkslY',\n  },\n};\n\n// modal const\nconst modalWindow = document.querySelector('.modal-window');\nconsole.log(modalWindow);\nconst modalImage = document.querySelector('.modal-img');\n// console.log(modalImage.getAttribute('src'));\nconst modalTitle = document.querySelector('.modal-title');\nconst modalVote = document.querySelector('.modal-vote');\nconst modalVotes = document.querySelector('.modal-votes');\nconst modalPopularity = document.querySelector('.modal-popularity-result');\nconst modalOrigTitle = document.querySelector('.modal-original-title-result');\nconst modalGenre = document.querySelector('.modal-genre-result');\nconst modalDescription = document.querySelector('.modal-movie-description');\nconst modalCloseBtn = document.querySelector('.modal-close-button');\nmodalCloseBtn.addEventListener('click', () => {\n  modalWindow.classList.toggle('is-hidden');\n});\n\nfunction isHidden(params) {\n  params.classList.add('is-hidden');\n}\n\nfunction remHidden(params) {\n  params.classList.remove('is-hidden');\n}\n\nfunction addRemButtons(params, id, addBtn, remBtn) {\n  let status = load(`${params}`);\n  if (status === undefined) {\n    isHidden(remBtn);\n    remHidden(addBtn);\n  } else {\n    // console.log(status);\n    if (status.includes(id)) {\n      isHidden(addBtn);\n      remHidden(remBtn);\n    } else {\n      isHidden(remBtn);\n      remHidden(addBtn);\n    }\n  }\n}\n\n// Watch buttons\n// remove('watched');\n// remove('queued');\nconst modalAddToWatchBtn = document.querySelector('.modal-add-to-watched-btn');\nconst modalRemFromWatchBtn = document.querySelector('.remove-from-watched');\n\nisHidden(modalRemFromWatchBtn);\n\nmodalAddToWatchBtn.addEventListener('click', ev => {\n  let id = modalImage.getAttribute('id');\n  // console.log(id);\n\n  let watched = load('watched');\n  // console.log(watched);\n\n  if (watched === undefined || watched.length === 0) {\n    save('watched', [id]);\n  } else {\n    const tru = watched.includes(id);\n\n    if (!tru) {\n      watched.push(id);\n      save('watched', watched);\n      // console.log('it dont has');\n    } else {\n      console.log('it has');\n    }\n  }\n\n  isHidden(modalAddToWatchBtn);\n  remHidden(modalRemFromWatchBtn);\n});\n\nmodalRemFromWatchBtn.addEventListener('click', ev => {\n  let id = modalImage.getAttribute('id');\n  // console.log(id);\n\n  let watched = load('watched');\n  // console.log(watched);\n\n  let watchedd = watched.filter(x => x !== id);\n  // console.log(watchedd);\n\n  save('watched', watchedd);\n\n  isHidden(modalRemFromWatchBtn);\n  remHidden(modalAddToWatchBtn);\n});\n\n// Queue buttons\nconst modalAddToQueueBtn = document.querySelector('.modal-add-to-queue-btn');\nconst modalRemFromQueueBtn = document.querySelector('.remove-from-queue-btn');\n\nisHidden(modalRemFromQueueBtn);\n\nmodalAddToQueueBtn.addEventListener('click', ev => {\n  let id = modalImage.getAttribute('id');\n  console.log(id);\n\n  let queued = load('queued');\n  console.log(queued);\n\n  if (queued === undefined || queued.length === 0) {\n    save('queued', [id]);\n  } else {\n    const tru = queued.includes(id);\n\n    if (!tru) {\n      queued.push(id);\n      console.log(queued);\n      save('queued', queued);\n      console.log('it dont has');\n    } else {\n      console.log('it has');\n    }\n  }\n\n  isHidden(modalAddToQueueBtn);\n  remHidden(modalRemFromQueueBtn);\n});\n\nmodalRemFromQueueBtn.addEventListener('click', ev => {\n  let id = modalImage.getAttribute('id');\n  console.log(id);\n\n  let queued = load('queued');\n  console.log(queued);\n\n  let queuedd = queued.filter(x => x !== id);\n  console.log(queuedd);\n  save('queued', queuedd);\n\n  isHidden(modalRemFromQueueBtn);\n  remHidden(modalAddToQueueBtn);\n});\n\n// Header search form\n\nheaderInput.addEventListener('input', ev => {\n  if (!headerBottomButtonsContainer.classList.contains('is-hidden')) {\n    headerBottomButtonsContainer.classList.add('is-hidden');\n  }\n  if (headerInput.value.length === 0) {\n    headerFormErrorMessage.style.display = 'none';\n    console.log('empty');\n  }\n});\n\nheaderInput.addEventListener('change', ev => {\n  if (!headerBottomButtonsContainer.classList.contains('is-hidden')) {\n    headerBottomButtonsContainer.classList.add('is-hidden');\n  }\n  headerFormErrorMessage.style.display = 'none';\n\n  headerSearchBtn.disabled = false;\n  console.log('change');\n});\n\nheaderSearchBtn.addEventListener('click', ev => {\n  ev.preventDefault();\n  if (!headerBottomButtonsContainer.classList.contains('is-hidden')) {\n    headerBottomButtonsContainer.classList.add('is-hidden');\n  }\n\n  paginationContainer.style.display = 'block';\n\n  headerSearchBtn.disabled = true;\n\n  searchText = headerInput.value.replace(/ /g, '%20');\n  // console.log(searchText);\n\n  let findUrl = `https://api.themoviedb.org/3/search/movie?query=${searchText}&include_adult=true&language=en-US&page=${currentPage}`;\n  // console.log(findUrl);\n\n  heroList.innerHTML = null;\n\n  fetch(findUrl, options)\n    .then(res => res.json())\n    .then(res => {\n      // console.log(findUrl);\n      console.log(res);\n      // console.log(res.results);\n      const movies = res.results;\n      if (movies.length === 0) {\n        headerFormErrorMessage.style.display = 'block';\n        console.log('not found');\n      }\n      console.log(res.total_pages);\n      console.log(2 <= res.total_pages < 20);\n      console.log(res.total_pages <= 1);\n\n      movies.map(element => {\n        renderCards(element);\n        console.log('search');\n      });\n\n      linkListener();\n\n      if (res.total_pages <= 1) {\n        paginationContainer.style.display = 'none';\n      }\n      if (2 <= res.total_pages < 20) {\n        totalPages = res.total_pages;\n        element.innerHTML = createPagination(totalPages, page);\n      }\n      if (res.total_pages > 20) {\n        page = 1;\n        totalPages = 20;\n        element.innerHTML = createPagination(totalPages, page);\n      }\n\n      paginationContainer.addEventListener('click', ev => {\n        // console.log(ev.currentTarget);\n        currentPage =\n          ev.currentTarget.querySelector('.active>span').textContent;\n        console.log(currentPage);\n        findUrl = `https://api.themoviedb.org/3/search/movie?query=${searchText}&include_adult=true&language=en-US&page=${currentPage}`;\n\n        heroList.innerHTML = null;\n        console.log(findUrl);\n\n        fetch(findUrl, options)\n          .then(res => res.json())\n          .then(res => {\n            // console.log(findUrl);\n            console.log(res.total_pages);\n\n            console.log(res.results);\n            const movies = res.results;\n\n            // create movies cards\n            movies.map(element => {\n              renderCards(element);\n            });\n\n            linkListener();\n          })\n          .catch(err => console.error('error:' + err));\n      });\n    })\n    .catch(err => console.error('error:' + err));\n});\n\n// setting state of to watched/queue buttons\nlibraryButton.addEventListener('click', ev => {\n  headerBottomButtonsContainer.classList.toggle('is-hidden');\n});\n\n// remove('current-theme');\n\n// setting state of to dark theme button\ndarkThemeButton.addEventListener('click', ev => {\n  var isChecked = darkThemeButton.checked;\n\n  if (isChecked) {\n    const curentTheme = load('current-theme');\n    if (curentTheme === undefined) {\n      remove('current-theme');\n      toggle.classList.remove('toggle');\n      toggle.classList.add('switched');\n\n      save('current-theme', 'dark');\n      setTheme('dark');\n    }\n    toggle.classList.remove('toggle');\n    toggle.classList.add('switched');\n\n    remove('current-theme');\n    save('current-theme', 'dark');\n    setTheme('dark');\n  }\n  if (!isChecked) {\n    const curentTheme = load('current-theme');\n    if (curentTheme === undefined) {\n      toggle.classList.add('toggle');\n      toggle.classList.remove('switch');\n\n      save('current-theme', 'light');\n      setTheme('light');\n    }\n    toggle.classList.add('toggle');\n    toggle.classList.remove('switch');\n\n    remove('current-theme');\n    save('current-theme', 'light');\n    setTheme('light');\n  }\n});\n\n// let mobileQuerry = window.matchMedia('(max-width: 768px)');\n// let tabletQuerry = window.matchMedia('(min-width: 768px)');\n// let desktopQuerry = window.matchMedia('(min-width: 1024px)');\n\n// setting state of to watched button and getting watched page\nheaderWatchedButton.addEventListener('click', ev => {\n  heroList.innerHTML = '';\n  const moviesIdList = load('watched');\n\n  paginationContainer.style.display = 'none';\n\n  if (moviesIdList === undefined || moviesIdList.length === 0) {\n    let emptyListMessage = document.createElement('p');\n    emptyListMessage.setAttribute('class', 'empty-list');\n    emptyListMessage.textContent = 'Oops ! Your \"Watched\" library is empty !';\n\n    heroList.append(emptyListMessage);\n  } else {\n    console.log(moviesIdList);\n\n    const optionsId = {\n      headers: {\n        Accept: 'application/json',\n      },\n    };\n\n    // let perPage = 4;\n    // page = 1;\n    // totalPages = 1;\n\n    // function createPagination(totalPages, page) {\n    //   let liTag = '';\n    //   let active;\n    //   let beforePage = page - 1;\n    //   let afterPage = page + 1;\n    //   if (page > 1) {\n    //     //show the next button if the page value is greater than 1\n    //     liTag += `<li class=\"btn prev\" onclick=\"createPagination(totalPages, ${\n    //       page - 1\n    //     })\"><span><i class=\"fas fa-angle-left\"></i> Prev</span></li>`;\n    //   }\n\n    //   if (page > 2) {\n    //     //if page value is less than 2 then add 1 after the previous button\n    //     liTag += `<li class=\"first numb\" onclick=\"createPagination(totalPages, 1)\"><span>1</span></li>`;\n    //     if (page > 3) {\n    //       //if page value is greater than 3 then add this (...) after the first li or page\n    //       liTag += `<li class=\"dots\"><span>...</span></li>`;\n    //     }\n    //   }\n\n    //   // how many pages or li show before the current li\n    //   if (page == totalPages) {\n    //     beforePage = beforePage - 2;\n    //   } else if (page == totalPages - 1) {\n    //     beforePage = beforePage - 1;\n    //   }\n    //   // how many pages or li show after the current li\n    //   if (page == 1) {\n    //     afterPage = afterPage + 2;\n    //   } else if (page == 2) {\n    //     afterPage = afterPage + 1;\n    //   }\n\n    //   for (var plength = beforePage; plength <= afterPage; plength++) {\n    //     if (plength > totalPages) {\n    //       //if plength is greater than totalPage length then continue\n    //       continue;\n    //     }\n    //     if (plength == 0) {\n    //       //if plength is 0 than add +1 in plength value\n    //       plength = plength + 1;\n    //     }\n    //     if (page == plength) {\n    //       //if page is equal to plength than assign active string in the active variable\n    //       active = 'active';\n    //     } else {\n    //       //else leave empty to the active variable\n    //       active = '';\n    //     }\n    //     liTag += `<li class=\"numb ${active}\" onclick=\"createPagination(totalPages, ${plength})\"><span>${plength}</span></li>`;\n    //   }\n\n    //   if (page < totalPages - 1) {\n    //     //if page value is less than totalPage value by -1 then show the last li or page\n    //     if (page < totalPages - 2) {\n    //       //if page value is less than totalPage value by -2 then add this (...) before the last li or page\n    //       liTag += `<li class=\"dots\"><span>...</span></li>`;\n    //     }\n    //     liTag += `<li class=\"last numb\" onclick=\"createPagination(totalPages, ${totalPages})\"><span>${totalPages}</span></li>`;\n    //   }\n\n    //   if (page < totalPages) {\n    //     //show the next button if the page value is less than totalPage(20)\n    //     liTag += `<li class=\"btn next\" onclick=\"createPagination(totalPages, ${\n    //       page + 1\n    //     })\"><span>Next <i class=\"fas fa-angle-right\"></i></span></li>`;\n    //   }\n    //   // console.log(page);\n    //   element.innerHTML = liTag; //add li tag inside ul tag\n    //   return liTag; //return the li tag\n    // }\n\n    // totalPages = Math.ceil(moviesIdList.length / perPage);\n    // if (totalPages >= 2) {\n    //   element.style.display = 'block';\n    //   createPagination(totalPages, page);\n    // } else {\n    //   element.style.display = 'none';\n    // }\n\n    // const startIndex = (currentPage - 1) * perPage;\n    // const endIndex = startIndex + perPage;\n    // const pageItems = moviesIdList.slice(startIndex, endIndex);\n\n    // pageItems.forEach(movieId => {\n    //   const urlApi = `https://api.themoviedb.org/3/movie/${movieId}?&api_key=${apiKey}&language=en-US&page=1`;\n\n    //   fetch(urlApi, optionsId)\n    //     .then(res => res.json())\n    //     .then(res => {\n    //       console.log(res);\n    //       const movie = res;\n\n    //       renderWatchQueueCards(movie);\n    //     })\n    //     .catch(err => console.error('error:' + err));\n    // });\n\n    // currentPage = 1;\n\n    // addRemPagination();\n\n    moviesIdList.forEach(movieId => {\n      const urlApi = `https://api.themoviedb.org/3/movie/${movieId}?&api_key=${apiKey}&language=en-US&page=1`;\n\n      fetch(urlApi, optionsId)\n        .then(res => res.json())\n        .then(res => {\n          console.log(res);\n          const movie = res;\n\n          renderWatchQueueCards(movie);\n        })\n        .catch(err => console.error('error:' + err));\n    });\n  }\n\n  // clear watched list\n  headerClearWatchedButton.classList.toggle('is-hidden');\n  headerClearWatchedButton.addEventListener('click', ev => {\n    heroList.innerHTML === null;\n    remove('watched');\n    let emptyListMessage = document.createElement('p');\n    emptyListMessage.setAttribute('class', 'empty-list');\n    emptyListMessage.textContent = 'Oops ! Your \"Watched\" library is empty !';\n\n    heroList.append(emptyListMessage);\n  });\n\n  // hidding clear queued button\n  if (headerClearQueuedButton.classList.contains('is-hidden')) {\n    return;\n  } else {\n    headerClearQueuedButton.classList.toggle('is-hidden');\n  }\n});\n\n// setting state of to queued button and getting watched page\nheaderQueuedButton.addEventListener('click', ev => {\n  heroList.innerHTML = null;\n  const moviesIdList = load('queued');\n  // console.log(moviesIdList);\n  paginationContainer.style.display = 'none';\n\n  if (moviesIdList === undefined || moviesIdList.length === 0) {\n    let emptyListMessage = document.createElement('p');\n    emptyListMessage.setAttribute('class', 'empty-list');\n    emptyListMessage.textContent = 'Oops ! Your \"Queued\" library is empty !';\n\n    heroList.append(emptyListMessage);\n  } else {\n    const optionsId = {\n      headers: {\n        Accept: 'application/json',\n      },\n    };\n\n    // page = 1;\n    // totalPages = 20;\n\n    // function createPagination(totalPages, page) {\n    //   let liTag = '';\n    //   let active;\n    //   let beforePage = page - 1;\n    //   let afterPage = page + 1;\n    //   if (page > 1) {\n    //     //show the next button if the page value is greater than 1\n    //     liTag += `<li class=\"btn prev\" onclick=\"createPagination(totalPages, ${\n    //       page - 1\n    //     })\"><span><i class=\"fas fa-angle-left\"></i> Prev</span></li>`;\n    //   }\n\n    //   if (page > 2) {\n    //     //if page value is less than 2 then add 1 after the previous button\n    //     liTag += `<li class=\"first numb\" onclick=\"createPagination(totalPages, 1)\"><span>1</span></li>`;\n    //     if (page > 3) {\n    //       //if page value is greater than 3 then add this (...) after the first li or page\n    //       liTag += `<li class=\"dots\"><span>...</span></li>`;\n    //     }\n    //   }\n\n    //   // how many pages or li show before the current li\n    //   if (page == totalPages) {\n    //     beforePage = beforePage - 2;\n    //   } else if (page == totalPages - 1) {\n    //     beforePage = beforePage - 1;\n    //   }\n    //   // how many pages or li show after the current li\n    //   if (page == 1) {\n    //     afterPage = afterPage + 2;\n    //   } else if (page == 2) {\n    //     afterPage = afterPage + 1;\n    //   }\n\n    //   for (var plength = beforePage; plength <= afterPage; plength++) {\n    //     if (plength > totalPages) {\n    //       //if plength is greater than totalPage length then continue\n    //       continue;\n    //     }\n    //     if (plength == 0) {\n    //       //if plength is 0 than add +1 in plength value\n    //       plength = plength + 1;\n    //     }\n    //     if (page == plength) {\n    //       //if page is equal to plength than assign active string in the active variable\n    //       active = 'active';\n    //     } else {\n    //       //else leave empty to the active variable\n    //       active = '';\n    //     }\n    //     liTag += `<li class=\"numb ${active}\" onclick=\"createPagination(totalPages, ${plength})\"><span>${plength}</span></li>`;\n    //   }\n\n    //   if (page < totalPages - 1) {\n    //     //if page value is less than totalPage value by -1 then show the last li or page\n    //     if (page < totalPages - 2) {\n    //       //if page value is less than totalPage value by -2 then add this (...) before the last li or page\n    //       liTag += `<li class=\"dots\"><span>...</span></li>`;\n    //     }\n    //     liTag += `<li class=\"last numb\" onclick=\"createPagination(totalPages, ${totalPages})\"><span>${totalPages}</span></li>`;\n    //   }\n\n    //   if (page < totalPages) {\n    //     //show the next button if the page value is less than totalPage(20)\n    //     liTag += `<li class=\"btn next\" onclick=\"createPagination(totalPages, ${\n    //       page + 1\n    //     })\"><span>Next <i class=\"fas fa-angle-right\"></i></span></li>`;\n    //   }\n    //   // console.log(page);\n    //   element.innerHTML = liTag; //add li tag inside ul tag\n    //   return liTag; //return the li tag\n    // }\n\n    // let perPage = 4;\n\n    // totalPages = Math.ceil(moviesIdList.length / perPage);\n    // if (totalPages >= 2) {\n    //   element.style.display = 'block';\n    //   createPagination(totalPages, page);\n    // } else {\n    //   element.style.display = 'none';\n    // }\n\n    // const startIndex = (currentPage - 1) * perPage;\n    // const endIndex = startIndex + perPage;\n    // const pageItems = moviesIdList.slice(startIndex, endIndex);\n\n    // currentPage = 1;\n\n    // addRemPagination();\n\n    // pageItems.forEach(movieId => {\n    //   const urlApi = `https://api.themoviedb.org/3/movie/${movieId}?&api_key=${apiKey}&language=en-US&page=1`;\n\n    //   fetch(urlApi, optionsId)\n    //     .then(res => res.json())\n    //     .then(res => {\n    //       console.log(res);\n    //       const movie = res;\n\n    //       renderWatchQueueCards(movie);\n    //     })\n    //     .catch(err => console.error('error:' + err));\n    // });\n\n    moviesIdList.forEach(movieId => {\n      const urlApi = `https://api.themoviedb.org/3/movie/${movieId}?&api_key=${apiKey}&language=en-US&page=1`;\n\n      fetch(urlApi, optionsId)\n        .then(res => res.json())\n        .then(res => {\n          console.log(res);\n          const movie = res;\n\n          renderWatchQueueCards(movie);\n        })\n        .catch(err => console.error('error:' + err));\n    });\n  }\n\n  // clear queued list\n  headerClearQueuedButton.classList.toggle('is-hidden');\n  headerClearQueuedButton.addEventListener('click', ev => {\n    heroList.innerHTML = null;\n    remove('queued');\n    let emptyListMessage = document.createElement('p');\n    emptyListMessage.setAttribute('class', 'empty-list');\n    emptyListMessage.textContent = 'Oops ! Your \"Queued\" library is empty !';\n\n    heroList.append(emptyListMessage);\n  });\n\n  // hidding clear watched button\n  if (headerClearWatchedButton.classList.contains('is-hidden')) {\n    return;\n  } else {\n    headerClearWatchedButton.classList.toggle('is-hidden');\n  }\n});\n\n// HERO\n\nfetch(trendingMoviesUrl, options)\n  .then(res => res.json())\n  .then(res => {\n    heroList.innerHTML = null;\n    console.log(res);\n    // console.log(res.results);\n    const movies = res.results;\n    console.log(res.total_pages);\n    console.log(totalPages);\n    // element.innerHTML = createPagination(totalPages, page);\n\n    paginationContainer.style.display = 'block';\n    if (res.total_pages <= 1) {\n      paginationContainer.style.display = 'none';\n    }\n    if (2 <= res.total_pages < 20) {\n      page = 1;\n      totalPages = res.total_pages;\n      element.innerHTML = createPagination(totalPages, page);\n    }\n    page = 1;\n    totalPages = 20;\n    element.innerHTML = createPagination(totalPages, page);\n\n    heroPagination();\n\n    movies.map(element => {\n      renderCards(element);\n    });\n\n    linkListener();\n  })\n  .catch(err => console.error('error:' + err));\n\n// main functions\n\n// link listener and modal dysplay\nfunction linkListener() {\n  // select all links\n  const heroImagesLink = document.querySelectorAll('.hero-cards-link');\n  // console.log(heroImagesLink);\n\n  // listeners for each link\n  heroImagesLink.forEach(link => {\n    // const linkImage = link.querySelector('.hero-cards-image');\n    // console.log(linkImage);\n\n    link.addEventListener('click', ev => {\n      ev.preventDefault();\n\n      // console.log(ev.target);\n      const currentLink = ev.currentTarget;\n      // console.log(currentLink);\n\n      const linkSrc = currentLink.href;\n      // console.log(linkSrc);\n      modalImage.setAttribute('src', linkSrc);\n\n      const linkId = currentLink.getAttribute('id');\n      modalImage.setAttribute('id', linkId);\n\n      addRemButtons('queued', linkId, modalAddToQueueBtn, modalRemFromQueueBtn);\n\n      addRemButtons(\n        'watched',\n        linkId,\n        modalAddToWatchBtn,\n        modalRemFromWatchBtn\n      );\n\n      const linkTitle = currentLink.getAttribute('title');\n      // console.log(linkTitle);\n      modalTitle.textContent = linkTitle;\n\n      const linkVote = currentLink.getAttribute('vote');\n      // console.log(linkVote);\n      modalVote.textContent = linkVote;\n\n      const linkVotes = currentLink.getAttribute('votes');\n      // console.log(linkVotes);\n      modalVotes.textContent = linkVotes;\n\n      const linkPopurarity = currentLink.getAttribute('popularity');\n      // console.log(linkPopurarity);\n      modalPopularity.textContent = linkPopurarity;\n\n      const linkOrigTitle = currentLink.getAttribute('original_title');\n      // console.log(linkOrigTitle);\n      modalOrigTitle.textContent = linkOrigTitle;\n\n      const linkDescription = currentLink.getAttribute('description');\n      // console.log(linkDescription);\n      modalDescription.textContent = linkDescription;\n\n      const genres = currentLink.getAttribute('genres');\n      // console.log(genres);\n      modalGenre.textContent = genres;\n\n      modalWindow.classList.toggle('is-hidden');\n    });\n  });\n}\n\n// Render cards for hero and search function\nfunction renderCards(params) {\n  const heroCardListItem = document.createElement('div');\n  heroCardListItem.setAttribute('class', 'movie-card item');\n  heroCardListItem.setAttribute('data-movie-id', `${params.id}`);\n  heroList.append(heroCardListItem);\n\n  const heroLink = document.createElement('a');\n  if (params.backdrop_path === null) {\n    heroLink.setAttribute(\n      'href',\n      'https://lascrucesfilmfest.com/wp-content/uploads/2018/01/no-poster-available.jpg'\n    );\n  } else {\n    heroLink.setAttribute(\n      'href',\n      `https://image.tmdb.org/t/p/original/${params.poster_path}`\n    );\n  }\n\n  const genresArr = params.genre_ids;\n  // console.log(genresArr.length);\n  let genres = [];\n\n  genresArr.forEach(element => {\n    fetch(genresApiUrl, options)\n      .then(res => res.json())\n      .then(res => {\n        res.genres.map(x => {\n          if (x.id === element) {\n            genres.push(x.name);\n            if (genres.length <= 3) {\n              heroLink.setAttribute('genres', genres);\n            } else {\n              let redGenres = genres.slice(0, 2);\n              heroLink.setAttribute('genres', `${redGenres},Other`);\n            }\n          }\n        });\n      })\n      .catch(err => console.error('error:' + err));\n  });\n\n  // heroLink.setAttribute('genres', genres);\n\n  heroLink.setAttribute('class', `hero-cards-link`);\n  heroLink.setAttribute('title', `${params.title}`);\n  heroLink.setAttribute('vote', `${params.vote_average}`);\n  heroLink.setAttribute('votes', `${params.vote_count}`);\n  heroLink.setAttribute('popularity', `${params.popularity}`);\n  heroLink.setAttribute('original_title', `${params.original_title}`);\n  heroLink.setAttribute('description', `${params.overview}`);\n  heroLink.setAttribute('id', params.id);\n\n  heroCardListItem.append(heroLink);\n\n  const img = document.createElement('img');\n  if (params.backdrop_path === null) {\n    img.setAttribute(\n      'src',\n      'https://lascrucesfilmfest.com/wp-content/uploads/2018/01/no-poster-available.jpg'\n    );\n  } else {\n    img.setAttribute(\n      'src',\n      `https://image.tmdb.org/t/p/original/${params.backdrop_path}`\n    );\n  }\n  img.setAttribute('class', `hero-cards-image`);\n  img.setAttribute('alt', `${params.media_type}`);\n  img.setAttribute('loading', `lazy`);\n  img.setAttribute('id', params.id);\n\n  // console.log(img);\n\n  heroLink.append(img);\n\n  const heroCardDetails = document.createElement('div');\n  heroCardDetails.setAttribute('class', 'hero-movie-details-container');\n  heroCardDetails.setAttribute('data-movie-id', `${params.id}`);\n\n  heroCardListItem.append(heroCardDetails);\n\n  const heroMovieTitle = document.createElement('h3');\n  heroMovieTitle.setAttribute('class', 'hero-movie-title');\n  heroMovieTitle.textContent = `${params.title}`;\n\n  heroCardDetails.append(heroMovieTitle);\n\n  const heroMovieGenresList = document.createElement('ul');\n  heroMovieGenresList.setAttribute('class', 'hero-movie-genres-list');\n\n  let movieGenres = params.genre_ids;\n  // console.log(movieGenres);\n\n  if (movieGenres.length > 3) {\n    // console.log(movieGenres.length);\n    movieGenres = movieGenres.slice(0, 2);\n    // console.log(movieGenres);\n\n    movieGenres.forEach(element => {\n      // console.log(element);\n      const heroMovieGenresListItem = document.createElement('li');\n      heroMovieGenresListItem.setAttribute(\n        'class',\n        'hero-movie-genres-list-item'\n      );\n\n      fetch(genresApiUrl, options)\n        .then(res => res.json())\n        .then(res => {\n          res.genres.map(x => {\n            if (x.id === element) {\n              heroMovieGenresListItem.textContent = `${x.name},`;\n            }\n          });\n        })\n        .catch(err => console.error('error:' + err));\n\n      heroMovieGenresList.append(heroMovieGenresListItem);\n    });\n\n    const heroGenresOther = document.createElement('li');\n    heroGenresOther.setAttribute('class', 'hero-movie-genres-list-item');\n    heroGenresOther.textContent = 'Otherr';\n    heroMovieGenresList.append(heroGenresOther);\n  } else {\n    if (movieGenres.length === 0) {\n      const heroGenresOther = document.createElement('li');\n      heroGenresOther.setAttribute('class', 'hero-movie-genres-list-item');\n      heroGenresOther.textContent = 'Otherr';\n      heroMovieGenresList.append(heroGenresOther);\n    } else {\n      movieGenres.forEach(element => {\n        // console.log(element);\n        const heroMovieGenresListItem = document.createElement('li');\n        heroMovieGenresListItem.setAttribute(\n          'class',\n          'hero-movie-genres-list-item'\n        );\n\n        fetch(genresApiUrl, options)\n          .then(res => res.json())\n          .then(res => {\n            res.genres.map(x => {\n              if (x.id === element) {\n                heroMovieGenresListItem.textContent = `${x.name},`;\n              }\n            });\n          })\n          .catch(err => console.error('error:' + err));\n\n        heroMovieGenresList.append(heroMovieGenresListItem);\n      });\n    }\n  }\n\n  setTimeout(heroCommaRemove, 2000);\n\n  function heroCommaRemove() {\n    let heroLastItem = heroMovieGenresList.lastChild;\n    // console.log(heroLastItem);\n    // console.log(heroLastItem.textContent);\n\n    let heroLastChild = heroLastItem.textContent;\n\n    heroLastItem.textContent = heroLastChild.slice(0, -1);\n  }\n\n  const date = params.release_date;\n  const year = date.slice(0, 4);\n  const yearCard = document.createElement('span');\n  yearCard.setAttribute('class', 'hero-year-span');\n  yearCard.textContent = `| ` + year;\n  // heroCardDetails.append(yearCard);\n\n  // console.log(params.vote_count);\n  const votes = document.createElement('span');\n  votes.setAttribute('class', 'hero-votes-span');\n  votes.textContent = params.vote_average;\n  // heroCardDetails.append(votes);\n\n  const heroMovieDetailsContainer = document.createElement('div');\n  heroMovieDetailsContainer.setAttribute('class', 'hero-details-container');\n  heroCardDetails.append(heroMovieDetailsContainer);\n  heroMovieDetailsContainer.append(heroMovieGenresList, yearCard, votes);\n}\n\n// render cards for watch and queue function\nfunction renderWatchQueueCards(params) {\n  const heroCardListItem = document.createElement('div');\n  heroCardListItem.setAttribute('class', 'movie-card item');\n  heroCardListItem.setAttribute('data-movie-id', `${params.id}`);\n  heroList.append(heroCardListItem);\n\n  const heroLink = document.createElement('a');\n  if (params.backdrop_path === null) {\n    heroLink.setAttribute(\n      'href',\n      'https://lascrucesfilmfest.com/wp-content/uploads/2018/01/no-poster-available.jpg'\n    );\n  } else {\n    heroLink.setAttribute(\n      'href',\n      `https://image.tmdb.org/t/p/original/${params.poster_path}`\n    );\n  }\n\n  const genresName = params.genres;\n  // console.log(genresName);\n  const genresNameLength = genresName.length;\n  let genres = [];\n\n  if (genresNameLength <= 2) {\n    genresName.map(genre => {\n      genres.push(genre.name);\n      heroLink.setAttribute('genres', genres);\n    });\n  } else {\n    genres.push(genresName[0].name, genresName[1].name, 'Other');\n    heroLink.setAttribute('genres', genres);\n  }\n\n  heroLink.setAttribute('class', `hero-cards-link`);\n  heroLink.setAttribute('title', `${params.title}`);\n  heroLink.setAttribute('vote', `${params.vote_average}`);\n  heroLink.setAttribute('votes', `${params.vote_count}`);\n  heroLink.setAttribute('popularity', `${params.popularity}`);\n  heroLink.setAttribute('original_title', `${params.original_title}`);\n  heroLink.setAttribute('description', `${params.overview}`);\n  heroLink.setAttribute('id', params.id);\n\n  heroCardListItem.append(heroLink);\n\n  const img = document.createElement('img');\n  if (params.backdrop_path === null) {\n    img.setAttribute(\n      'src',\n      'https://lascrucesfilmfest.com/wp-content/uploads/2018/01/no-poster-available.jpg'\n    );\n  } else {\n    img.setAttribute(\n      'src',\n      `https://image.tmdb.org/t/p/original/${params.backdrop_path}`\n    );\n  }\n  img.setAttribute('class', `hero-cards-image`);\n  img.setAttribute('alt', `${params.media_type}`);\n  img.setAttribute('loading', `lazy`);\n  img.setAttribute('id', params.id);\n\n  // console.log(img);\n\n  heroLink.append(img);\n\n  const heroCardDetails = document.createElement('div');\n  heroCardDetails.setAttribute('class', 'hero-movie-details-container');\n  heroCardDetails.setAttribute('data-movie-id', `${params.id}`);\n\n  heroCardListItem.append(heroCardDetails);\n\n  const heroMovieTitle = document.createElement('h3');\n  heroMovieTitle.setAttribute('class', 'hero-movie-title');\n  heroMovieTitle.textContent = `${params.title}`;\n\n  heroCardDetails.append(heroMovieTitle);\n\n  const heroMovieGenresList = document.createElement('ul');\n  heroMovieGenresList.setAttribute('class', 'hero-movie-genres-list');\n\n  let movieGenres = heroLink.getAttribute('genres');\n  // console.log(movieGenres);\n\n  const heroMovieGenresListItem = document.createElement('li');\n  heroMovieGenresListItem.setAttribute('class', 'hero-movie-genres-list-item');\n\n  heroMovieGenresListItem.textContent = movieGenres;\n\n  heroMovieGenresList.append(heroMovieGenresListItem);\n\n  const date = params.release_date;\n  const year = date.slice(0, 4);\n  const yearCard = document.createElement('span');\n  yearCard.setAttribute('class', 'hero-year-span');\n  yearCard.textContent = `| ` + year;\n  // heroCardDetails.append(yearCard);\n\n  // console.log(params.vote_count);\n  const votes = document.createElement('span');\n  votes.setAttribute('class', 'hero-votes-span');\n  votes.textContent = params.vote_average;\n  // heroCardDetails.append(votes);\n\n  const heroMovieDetailsContainer = document.createElement('div');\n  heroMovieDetailsContainer.setAttribute('class', 'hero-details-container');\n  heroCardDetails.append(heroMovieDetailsContainer);\n  heroMovieDetailsContainer.append(heroMovieGenresList, yearCard, votes);\n\n  function link() {\n    // console.log(heroLink);\n\n    heroLink.addEventListener('click', ev => {\n      ev.preventDefault();\n\n      console.log(ev.target);\n      const currentLink = ev.currentTarget;\n      console.log(currentLink);\n\n      const linkSrc = currentLink.href;\n      // console.log(linkSrc);\n      modalImage.setAttribute('src', linkSrc);\n\n      const linkId = currentLink.getAttribute('id');\n      modalImage.setAttribute('id', linkId);\n\n      addRemButtons('queued', linkId, modalAddToQueueBtn, modalRemFromQueueBtn);\n\n      addRemButtons(\n        'watched',\n        linkId,\n        modalAddToWatchBtn,\n        modalRemFromWatchBtn\n      );\n\n      const linkTitle = currentLink.getAttribute('title');\n      // console.log(linkTitle);\n      modalTitle.textContent = linkTitle;\n\n      const linkVote = currentLink.getAttribute('vote');\n      // console.log(linkVote);\n      modalVote.textContent = linkVote;\n\n      const linkVotes = currentLink.getAttribute('votes');\n      // console.log(linkVotes);\n      modalVotes.textContent = linkVotes;\n\n      const linkPopurarity = currentLink.getAttribute('popularity');\n      // console.log(linkPopurarity);\n      modalPopularity.textContent = linkPopurarity;\n\n      const linkOrigTitle = currentLink.getAttribute('original_title');\n      // console.log(linkOrigTitle);\n      modalOrigTitle.textContent = linkOrigTitle;\n\n      const linkDescription = currentLink.getAttribute('description');\n      // console.log(linkDescription);\n      modalDescription.textContent = linkDescription;\n\n      const genres = currentLink.getAttribute('genres');\n      // console.log(genres);\n      modalGenre.textContent = genres;\n\n      modalWindow.classList.toggle('is-hidden');\n    });\n  }\n\n  link();\n}\n\n// PAGE-CHANGER\n\nfunction heroPagination() {\n  paginationContainer.addEventListener('click', ev => {\n    // console.log(ev.currentTarget);\n    currentPage = ev.currentTarget.querySelector('.active>span').textContent;\n    // console.log(currentPage);\n    let trendingMoviesUrl = `https://api.themoviedb.org/3/trending/movie/day?language=en-US&page=${currentPage}`;\n\n    heroList.innerHTML = null;\n    // console.log(trendingMoviesUrl);\n\n    fetch(trendingMoviesUrl, options)\n      .then(res => res.json())\n      .then(res => {\n        // console.log(res);\n        // console.log(res.total_pages);\n\n        const movies = res.results;\n        movies.map(element => {\n          renderCards(element);\n        });\n\n        // totalPages = 20;\n        // if (res.total_pages <= 1) {\n        //   paginationContainer.style.display = 'none';\n        // }\n        // if (2 <= res.total_pages < 20) {\n        //   totalPages = res.total_pages;\n        //   element.innerHTML = createPagination(totalPages, page);\n        // } else {\n        //   element.innerHTML = createPagination(totalPages, page);\n        // }\n\n        const heroImagesLink = document.querySelectorAll('.hero-cards-link');\n        // console.log(heroImagesLink);\n\n        heroImagesLink.forEach(link => {\n          // const linkImage = link.querySelector('.hero-cards-image');\n          // console.log(linkImage);\n\n          link.addEventListener('click', ev => {\n            ev.preventDefault();\n\n            // console.log(ev.target);\n            const currentLink = ev.currentTarget;\n            // console.log(currentLink);\n\n            const linkSrc = currentLink.href;\n            // console.log(linkSrc);\n            modalImage.setAttribute('src', linkSrc);\n\n            const linkId = currentLink.getAttribute('id');\n            modalImage.setAttribute('id', linkId);\n\n            addRemButtons(\n              'queued',\n              linkId,\n              modalAddToQueueBtn,\n              modalRemFromQueueBtn\n            );\n\n            addRemButtons(\n              'watched',\n              linkId,\n              modalAddToWatchBtn,\n              modalRemFromWatchBtn\n            );\n\n            const linkTitle = currentLink.getAttribute('title');\n            // console.log(linkTitle);\n            modalTitle.textContent = linkTitle;\n\n            const linkVote = currentLink.getAttribute('vote');\n            // console.log(linkVote);\n            modalVote.textContent = linkVote;\n\n            const linkVotes = currentLink.getAttribute('votes');\n            // console.log(linkVotes);\n            modalVotes.textContent = linkVotes;\n\n            const linkPopurarity = currentLink.getAttribute('popularity');\n            // console.log(linkPopurarity);\n            modalPopularity.textContent = linkPopurarity;\n\n            const linkOrigTitle = currentLink.getAttribute('original_title');\n            // console.log(linkOrigTitle);\n            modalOrigTitle.textContent = linkOrigTitle;\n\n            const linkDescription = currentLink.getAttribute('description');\n            // console.log(linkDescription);\n            modalDescription.textContent = linkDescription;\n\n            const genres = currentLink.getAttribute('genres');\n            // console.log(genres);\n            modalGenre.textContent = genres;\n\n            modalWindow.classList.toggle('is-hidden');\n          });\n        });\n      })\n      .catch(err => console.error('error:' + err));\n  });\n}\n\nfunction addRemPagination() {\n  paginationContainer.addEventListener('click', ev => {\n    totalPages = Math.ceil(moviesIdList.length / perPage);\n    console.log(totalPages);\n\n    // console.log(ev.currentTarget);\n    currentPage = ev.currentTarget.querySelector('.active>span').textContent;\n\n    pageItems.forEach(movieId => {\n      const urlApi = `https://api.themoviedb.org/3/movie/${movieId}?&api_key=${apiKey}&language=en-US&page=1`;\n\n      const optionsId = {\n        headers: {\n          Accept: 'application/json',\n        },\n      };\n\n      fetch(urlApi, optionsId)\n        .then(res => res.json())\n        .then(res => {\n          console.log(res);\n          const movie = res;\n\n          renderWatchQueueCards(movie);\n        })\n        .catch(err => console.error('error:' + err));\n    });\n  });\n}\n\n// PAGE-UP\nconst pageUp = document.querySelector('.page-up');\n// When the user scrolls down 20px from the top of the document, show the button\nwindow.onscroll = function () {\n  scrollFunction();\n};\nfunction scrollFunction() {\n  if (document.documentElement.scrollTop > 700) {\n    // console.log(document.body.scrollTop);\n    // console.log(document.documentElement.scrollTop);\n    // console.log(document.documentElement);\n    pageUp.style.display = 'flex';\n  } else {\n    pageUp.style.display = 'none';\n  }\n}\n\n// When the user clicks on the button, scroll to the top of the document\npageUp.addEventListener('click', () => {\n  document.documentElement.scrollTop = 0;\n});\n\n// FOOTER\n// FOOTER MODAL\nconst footerOpenButton = document.querySelector('.footer-modal-button');\n// console.log(footerOpenButton);\n\nconst footerCloseButton = document.querySelector('.footer-modal-close-button');\n// console.log(footerCloseButton);\n\nconst footerModal = document.querySelector('.footer-modal');\nfooterModal.style.display = 'none';\n// console.log(footerModal);\n\nfooterOpenButton.addEventListener('click', () => {\n  footerModal.style.display = 'flex';\n});\n\nfooterCloseButton.addEventListener('click', () => {\n  footerModal.style.display = 'none';\n});\n\nwindow.addEventListener('click', e => {\n  if (e.target == footerModal) {\n    footerModal.style.display = 'none';\n  }\n});\n\nwindow.addEventListener('keyup', event => {\n  if (event.key === 'Escape') {\n    footerModal.style.display = 'none';\n  }\n});\n"],"names":["globalObject","self","window","$parcel$global","Error","getGlobal","module","exports","fetch","default","bind","Headers","Request","Response","$dzRKM","parcelRequire","addEventListener","event","key","$b8f9b7833fa37166$var$modalWindow","classList","contains","add","$b8f9b7833fa37166$var$save","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","$b8f9b7833fa37166$var$load","getItem","undefined","parse","$b8f9b7833fa37166$var$remove","removeItem","$b8f9b7833fa37166$var$setTheme","theme","document","documentElement","style","setProperty","$b8f9b7833fa37166$var$toggle","querySelector","$b8f9b7833fa37166$var$darkThemeButton","getAttribute","$b8f9b7833fa37166$var$issChecked","checked","$b8f9b7833fa37166$var$curentTheme","includes","remove","log","body","$b8f9b7833fa37166$var$libraryButton","$b8f9b7833fa37166$var$headerBottomButtonsContainer","$b8f9b7833fa37166$var$headerWatchedButton","$b8f9b7833fa37166$var$headerClearWatchedButton","$b8f9b7833fa37166$var$headerQueuedButton","$b8f9b7833fa37166$var$headerClearQueuedButton","$b8f9b7833fa37166$var$headerInput","$b8f9b7833fa37166$var$searchText","$b8f9b7833fa37166$var$headerSearchBtn","$b8f9b7833fa37166$var$headerFormErrorMessage","$b8f9b7833fa37166$var$heroList","$b8f9b7833fa37166$var$apiKey","$b8f9b7833fa37166$var$trendingMoviesUrl","concat","currentPage","$b8f9b7833fa37166$var$genresApiUrl","$b8f9b7833fa37166$var$options","method","headers","accept","Authorization","$b8f9b7833fa37166$var$modalImage","$b8f9b7833fa37166$var$modalTitle","$b8f9b7833fa37166$var$modalVote","$b8f9b7833fa37166$var$modalVotes","$b8f9b7833fa37166$var$modalPopularity","$b8f9b7833fa37166$var$modalOrigTitle","$b8f9b7833fa37166$var$modalGenre","$b8f9b7833fa37166$var$modalDescription","$b8f9b7833fa37166$var$isHidden","params","$b8f9b7833fa37166$var$remHidden","$b8f9b7833fa37166$var$addRemButtons","id","addBtn","remBtn","status","toggle","$b8f9b7833fa37166$var$modalAddToWatchBtn","$b8f9b7833fa37166$var$modalRemFromWatchBtn","ev","watched","length","push","watchedd","filter","x","$b8f9b7833fa37166$var$modalAddToQueueBtn","$b8f9b7833fa37166$var$modalRemFromQueueBtn","$b8f9b7833fa37166$var$linkListener","querySelectorAll","forEach","link","preventDefault","currentLink","currentTarget","linkSrc","href","setAttribute","linkId","linkTitle","textContent","linkVote","linkVotes","linkPopurarity","linkOrigTitle","linkDescription","genres","$b8f9b7833fa37166$var$renderCards","heroCardListItem","createElement","append","heroLink","backdrop_path","poster_path","genresArr","genre_ids","element","then","res","json","map","name","redGenres","slice","catch","err","title","vote_average","vote_count","popularity","original_title","overview","img","media_type","heroCardDetails","heroMovieTitle","heroMovieGenresList","movieGenres","heroMovieGenresListItem","heroGenresOther","heroGenresOther1","setTimeout","heroLastItem","lastChild","heroLastChild","year","release_date","yearCard","votes","heroMovieDetailsContainer","$b8f9b7833fa37166$var$renderWatchQueueCards","genresName","genresNameLength","genres1","genre","target","queued","queuedd","display","disabled","ev1","paginationContainer","replace","findUrl","innerHTML","res1","movies1","results","total_pages","totalPages","createPagination","page","isChecked","moviesIdList","emptyListMessage","optionsId","Accept","movieId","urlApi","movies","ev2","trendingMoviesUrl1","$b8f9b7833fa37166$var$pageUp","onscroll","scrollTop","$b8f9b7833fa37166$var$footerOpenButton","$b8f9b7833fa37166$var$footerCloseButton","$b8f9b7833fa37166$var$footerModal","e"],"version":3,"file":"index.8d0262eb.js.map"}