!function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},r=t.parcelRequired76b;null==r&&((r=function(t){if(t in e)return e[t].exports;if(t in n){var r=n[t];delete n[t];var o={id:t,exports:{}};return e[t]=o,r.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){n[t]=e},t.parcelRequired76b=r),r.register("dzRKM",(function(e,n){"use strict";var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();e.exports=n=r.fetch,r.fetch&&(n.default=r.fetch.bind(r)),n.Headers=r.Headers,n.Request=r.Request,n.Response=r.Response}));var o=r("dzRKM");window.addEventListener("keyup",(function(t){if("Escape"===t.key){if(_.classList.contains("is-hidden"))return;_.classList.add("is-hidden")}}));var i=function(t,e){try{var n=JSON.stringify(e);localStorage.setItem(t,n)}catch(t){console.error("Set state error: ",t.message)}},a=function(t){try{var e=localStorage.getItem(t);return null===e?void 0:JSON.parse(e)}catch(t){console.error("Get state error: ",t.message)}},c=function(t){try{var e=localStorage.removeItem(t);return null===e?void 0:JSON.stringify(e)}catch(t){console.error("Get state error: ",t.message)}};function s(t){"dark"==t&&(c("current-theme"),i("current-theme","dark"),document.documentElement.style.setProperty("--white","#8c8c8c"),document.documentElement.style.setProperty("--gray","#fff"),document.documentElement.style.setProperty("--light-gray","#fff"),document.documentElement.style.setProperty("--red","#fff"),document.documentElement.style.setProperty("--footer-bg","#545454"),document.documentElement.style.setProperty("--blue","#b92f2c"),document.documentElement.style.setProperty("--black","#fff")),"light"==t&&(c("current-theme"),i("current-theme","light"),document.documentElement.style.setProperty("--white","#fff"),document.documentElement.style.setProperty("--gray","#545454"),document.documentElement.style.setProperty("--light-gray","#8c8c8c"),document.documentElement.style.setProperty("--red","#ff6b08"),document.documentElement.style.setProperty("--footer-bg","#f7f7f7"),document.documentElement.style.setProperty("--blue","rgb(16, 16, 211)"),document.documentElement.style.setProperty("--black","#000"))}var l=document.querySelector("label#toggle"),u=(l.getAttribute("class"),document.querySelector(".checkbox")),d=u.checked,g=a("current-theme");if(void 0===g||0==d||g.includes("light")){l.getAttribute("class");l.classList.remove("switched"),l.classList.add("toggle"),console.log(d),c("current-theme"),i("current-theme","light"),s("light"),d=!1}(g.includes("dark")||1==d)&&(l.classList.remove("toggle"),l.classList.add("switched"),console.log(d),c("current-theme"),i("current-theme","dark"),s("dark"),d=!0),console.log(d);document.body;var m=document.querySelector(".header-library-button"),p=document.querySelector(".header-bottom-buttons-container"),v=document.querySelector(".header-watched-button"),h=document.querySelector(".header-clear-watched-button"),f=document.querySelector(".header-queue-button"),b=document.querySelector(".header-clear-queue-button"),y=document.querySelector(".search-form-input"),A=null,E=document.querySelector(".search-form-button"),C=document.querySelector(".header__error"),x=document.querySelector(".gallery"),L="90080ff184cabebdf1b42eaa88fb5738",k="https://lascrucesfilmfest.com/wp-content/uploads/2018/01/no-poster-available.jpg",q="https://api.themoviedb.org/3/trending/movie/day?language=en-US&page=".concat(currentPage),w="https://api.themoviedb.org/3/genre/movie/list?language=en&page=".concat(currentPage),S={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5MDA4MGZmMTg0Y2FiZWJkZjFiNDJlYWE4OGZiNTczOCIsInN1YiI6IjY2NjAyNTUwN2MwMjgyZWYzMDRmNjAxOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.-GiosJEhvb8JZPRVsDWYKnyMuBuXM_jJXaHMa3NkslY"}},_=document.querySelector(".modal-window");console.log(_);var P=document.querySelector(".modal-img"),T=document.querySelector(".modal-title"),j=document.querySelector(".modal-vote"),M=document.querySelector(".modal-votes"),O=document.querySelector(".modal-popularity-result"),J=document.querySelector(".modal-original-title-result"),N=document.querySelector(".modal-genre-result"),D=document.querySelector(".modal-movie-description");function I(t){t.classList.add("is-hidden")}function H(t){t.classList.remove("is-hidden")}function U(t,e,n,r){var o=a("".concat(t));void 0===o?(I(r),H(n)):o.includes(e)?(I(n),H(r)):(I(r),H(n))}document.querySelector(".modal-close-button").addEventListener("click",(function(){_.classList.toggle("is-hidden")}));var Y=document.querySelector(".modal-add-to-watched-btn"),R=document.querySelector(".remove-from-watched");I(R),Y.addEventListener("click",(function(t){var e=P.getAttribute("id"),n=a("watched");void 0===n||0===n.length?i("watched",[e]):n.includes(e)?console.log("it has"):(n.push(e),i("watched",n));I(Y),H(R)})),R.addEventListener("click",(function(t){var e=P.getAttribute("id"),n=a("watched").filter((function(t){return t!==e}));i("watched",n),I(R),H(Y)}));var z=document.querySelector(".modal-add-to-queue-btn"),W=document.querySelector(".remove-from-queue-btn");function G(t){var e=document.createElement("div");e.setAttribute("class","movie-card item"),e.setAttribute("data-movie-id","".concat(t.id)),x.append(e);var n=document.createElement("a");null===t.backdrop_path?n.setAttribute("href","https://lascrucesfilmfest.com/wp-content/uploads/2018/01/no-poster-available.jpg"):n.setAttribute("href","https://image.tmdb.org/t/p/original/".concat(t.poster_path));var r=t.genre_ids,i=[];r.forEach((function(t){o(w,S).then((function(t){return t.json()})).then((function(e){e.genres.map((function(e){if(e.id===t)if(i.push(e.name),i.length<=3)n.setAttribute("genres",i);else{var r=i.slice(0,2);n.setAttribute("genres","".concat(r,",Other"))}}))})).catch((function(t){return console.error("error:"+t)}))})),n.setAttribute("class","hero-cards-link"),n.setAttribute("title","".concat(t.title)),n.setAttribute("vote","".concat(t.vote_average)),n.setAttribute("votes","".concat(t.vote_count)),n.setAttribute("popularity","".concat(t.popularity)),n.setAttribute("original_title","".concat(t.original_title)),n.setAttribute("description","".concat(t.overview)),n.setAttribute("id",t.id),e.append(n);var a=document.createElement("img");null===t.backdrop_path?a.setAttribute("src","https://lascrucesfilmfest.com/wp-content/uploads/2018/01/no-poster-available.jpg"):a.setAttribute("src","https://image.tmdb.org/t/p/original/".concat(t.backdrop_path)),a.setAttribute("class","hero-cards-image"),a.setAttribute("alt","".concat(t.media_type)),a.setAttribute("loading","lazy"),a.setAttribute("id",t.id),n.append(a);var c=document.createElement("div");c.setAttribute("class","hero-movie-details-container"),c.setAttribute("data-movie-id","".concat(t.id)),e.append(c);var s=document.createElement("h3");s.setAttribute("class","hero-movie-title"),s.textContent="".concat(t.title),c.append(s);var l=document.createElement("ul");l.setAttribute("class","hero-movie-genres-list");var u=t.genre_ids;if(u.length>3){(u=u.slice(0,2)).forEach((function(t){var e=document.createElement("li");e.setAttribute("class","hero-movie-genres-list-item"),o(w,S).then((function(t){return t.json()})).then((function(n){n.genres.map((function(n){n.id===t&&(e.textContent="".concat(n.name,","))}))})).catch((function(t){return console.error("error:"+t)})),l.append(e)}));var d=document.createElement("li");d.setAttribute("class","hero-movie-genres-list-item"),d.textContent="Otherr",l.append(d)}else if(0===u.length){var g=document.createElement("li");g.setAttribute("class","hero-movie-genres-list-item"),g.textContent="Otherr",l.append(g)}else u.forEach((function(t){var e=document.createElement("li");e.setAttribute("class","hero-movie-genres-list-item"),o(w,S).then((function(t){return t.json()})).then((function(n){n.genres.map((function(n){n.id===t&&(e.textContent="".concat(n.name,","))}))})).catch((function(t){return console.error("error:"+t)})),l.append(e)}));setTimeout((function(){var t=l.lastChild,e=t.textContent;t.textContent=e.slice(0,-1)}),2e3);var m=t.release_date.slice(0,4),p=document.createElement("span");p.setAttribute("class","hero-year-span"),p.textContent="| "+m;var v=document.createElement("span");v.setAttribute("class","hero-votes-span"),v.textContent=t.vote_average;var h=document.createElement("div");h.setAttribute("class","hero-details-container"),c.append(h),h.append(l,p,v)}function Z(t){var e=document.createElement("div");e.setAttribute("class","movie-card item"),e.setAttribute("data-movie-id","".concat(t.id)),x.append(e);var n=document.createElement("a");null===t.backdrop_path?n.setAttribute("href","https://lascrucesfilmfest.com/wp-content/uploads/2018/01/no-poster-available.jpg"):n.setAttribute("href","https://image.tmdb.org/t/p/original/".concat(t.poster_path));var r=t.genres,o=r.length,i=[];o<=2?r.map((function(t){i.push(t.name),n.setAttribute("genres",i)})):(i.push(r[0].name,r[1].name,"Other"),n.setAttribute("genres",i)),n.setAttribute("class","hero-cards-link"),n.setAttribute("title","".concat(t.title)),n.setAttribute("vote","".concat(t.vote_average)),n.setAttribute("votes","".concat(t.vote_count)),n.setAttribute("popularity","".concat(t.popularity)),n.setAttribute("original_title","".concat(t.original_title)),n.setAttribute("description","".concat(t.overview)),n.setAttribute("id",t.id),e.append(n);var a=document.createElement("img");null===t.backdrop_path?a.setAttribute("src","https://lascrucesfilmfest.com/wp-content/uploads/2018/01/no-poster-available.jpg"):a.setAttribute("src","https://image.tmdb.org/t/p/original/".concat(t.backdrop_path)),a.setAttribute("class","hero-cards-image"),a.setAttribute("alt","".concat(t.media_type)),a.setAttribute("loading","lazy"),a.setAttribute("id",t.id),n.append(a);var c=document.createElement("div");c.setAttribute("class","hero-movie-details-container"),c.setAttribute("data-movie-id","".concat(t.id)),e.append(c);var s=document.createElement("h3");s.setAttribute("class","hero-movie-title"),s.textContent="".concat(t.title),c.append(s);var l=document.createElement("ul");l.setAttribute("class","hero-movie-genres-list");var u=n.getAttribute("genres"),d=document.createElement("li");d.setAttribute("class","hero-movie-genres-list-item"),d.textContent=u,l.append(d);var g=t.release_date.slice(0,4),m=document.createElement("span");m.setAttribute("class","hero-year-span"),m.textContent="| "+g;var p=document.createElement("span");p.setAttribute("class","hero-votes-span"),p.textContent=t.vote_average;var v=document.createElement("div");v.setAttribute("class","hero-details-container"),c.append(v),v.append(l,m,p),n.addEventListener("click",(function(t){t.preventDefault(),console.log(t.target);var e=t.currentTarget;console.log(e);var n=e.href;P.setAttribute("src",n);var r=e.getAttribute("id");P.setAttribute("id",r),U("queued",r,z,W),U("watched",r,Y,R);var o=e.getAttribute("title");T.textContent=o;var i=e.getAttribute("vote");j.textContent=i;var a=e.getAttribute("votes");M.textContent=a;var c=e.getAttribute("popularity");O.textContent=c;var s=e.getAttribute("original_title");J.textContent=s;var l=e.getAttribute("description");D.textContent=l;var u=e.getAttribute("genres");N.textContent=u,_.classList.toggle("is-hidden")}))}I(W),z.addEventListener("click",(function(t){var e=P.getAttribute("id");console.log(e);var n=a("queued");(console.log(n),void 0===n||0===n.length)?i("queued",[e]):n.includes(e)?console.log("it has"):(n.push(e),console.log(n),i("queued",n),console.log("it dont has"));I(z),H(W)})),W.addEventListener("click",(function(t){var e=P.getAttribute("id");console.log(e);var n=a("queued");console.log(n);var r=n.filter((function(t){return t!==e}));console.log(r),i("queued",r),I(W),H(z)})),E.addEventListener("click",(function(t){t.preventDefault(),p.classList.contains("is-hidden")||p.classList.add("is-hidden"),paginationContainer.style.display="block",E.disabled=!0,y.addEventListener("change",(function(t){p.classList.contains("is-hidden")||p.classList.add("is-hidden"),E.disabled=!1,console.log("change")})),y.addEventListener("input",(function(t){p.classList.contains("is-hidden")||p.classList.add("is-hidden"),0===y.value.length&&(C.style.display="none")})),A=y.value.replace(/ /g,"%20");var e="https://api.themoviedb.org/3/search/movie?query=".concat(A,"&include_adult=true&language=en-US&page=").concat(currentPage);x.innerHTML=null,o(e,S).then((function(t){return t.json()})).then((function(t){(console.log(t),console.log(t.results),0===t.results.length)?(C.style.display="block",console.log("not found"),o(q,S).then((function(t){return t.json()})).then((function(t){t.results.map((function(t){G(t)})),document.querySelectorAll(".hero-cards-link").forEach((function(t){t.querySelector(".hero-cards-image");t.addEventListener("click",(function(t){t.preventDefault();var e=t.currentTarget;console.log(e);var n=e.href;P.setAttribute("src",n);var r=e.getAttribute("id");P.setAttribute("id",r),U("queued",r,z,W),U("watched",r,Y,R);var o=e.getAttribute("title");T.textContent=o;var i=e.getAttribute("vote");j.textContent=i;var a=e.getAttribute("votes");M.textContent=a;var c=e.getAttribute("popularity");O.textContent=c;var s=e.getAttribute("original_title");J.textContent=s;var l=e.getAttribute("description");D.textContent=l;var u=e.getAttribute("genres");N.textContent=u,_.classList.toggle("is-hidden")}))})),currentPage=1,paginationContainer.addEventListener("click",(function(t){currentPage=t.currentTarget.querySelector(".active>span").textContent,console.log(currentPage),e="https://api.themoviedb.org/3/search/movie?query=".concat(A,"&include_adult=true&language=en-US&page=").concat(currentPage),x.innerHTML=null,console.log(e),o(e,S).then((function(t){return t.json()})).then((function(t){console.log(t.total_pages),t.total_pages<20&&(totalPages=t.total_pages),console.log(t.results);var e=t.results;0===e.length?C.style.display="block":(C.style.display="none",t.results.map((function(t){G(t),console.log("search")})));e.map((function(t){G(t)})),document.querySelectorAll(".hero-cards-link").forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();var e=t.currentTarget;console.log(e);var n=e.getAttribute("id");if(P.setAttribute("id",n),U("queued",n,z,W),U("watched",n,Y,R),e.href===k)P.setAttribute("src",k);else{var r=e.href;P.setAttribute("src",r)}var o=e.getAttribute("title");T.textContent=o;var i=e.getAttribute("vote");j.textContent=i;var a=e.getAttribute("votes");M.textContent=a;var c=e.getAttribute("popularity");O.textContent=c;var s=e.getAttribute("original_title");J.textContent=s;var l=e.getAttribute("description");D.textContent=l;var u=e.getAttribute("genres");N.textContent=u,_.classList.remove("is-hidden")}))}))})).catch((function(t){return console.error("error:"+t)}))}))})).catch((function(t){return console.error("error:"+t)}))):(C.style.display="none",t.results.map((function(t){G(t),console.log("search")})),document.querySelectorAll(".hero-cards-link").forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();var e=t.currentTarget;console.log(e);var n=e.getAttribute("id");if(P.setAttribute("id",n),U("queued",n,z,W),U("watched",n,Y,R),e.href===k)P.setAttribute("src",k);else{var r=e.href;P.setAttribute("src",r)}var o=e.getAttribute("title");T.textContent=o;var i=e.getAttribute("vote");j.textContent=i;var a=e.getAttribute("votes");M.textContent=a;var c=e.getAttribute("popularity");O.textContent=c;var s=e.getAttribute("original_title");J.textContent=s;var l=e.getAttribute("description");D.textContent=l;var u=e.getAttribute("genres");N.textContent=u,_.classList.remove("is-hidden")}))})),currentPage=1,paginationContainer.addEventListener("click",(function(t){currentPage=t.currentTarget.querySelector(".active>span").textContent,console.log(currentPage),e="https://api.themoviedb.org/3/search/movie?query=".concat(A,"&include_adult=true&language=en-US&page=").concat(currentPage),x.innerHTML=null,console.log(e),o(e,S).then((function(t){return t.json()})).then((function(t){console.log(t.total_pages),t.total_pages<20&&(totalPages=t.total_pages),console.log(t.results);var e=t.results;0===e.length?C.style.display="block":(C.style.display="none",t.results.map((function(t){G(t),console.log("search")})));e.map((function(t){G(t)})),document.querySelectorAll(".hero-cards-link").forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();var e=t.currentTarget;console.log(e);var n=e.getAttribute("id");if(P.setAttribute("id",n),U("queued",n,z,W),U("watched",n,Y,R),e.href===k)P.setAttribute("src",k);else{var r=e.href;P.setAttribute("src",r)}var o=e.getAttribute("title");T.textContent=o;var i=e.getAttribute("vote");j.textContent=i;var a=e.getAttribute("votes");M.textContent=a;var c=e.getAttribute("popularity");O.textContent=c;var s=e.getAttribute("original_title");J.textContent=s;var l=e.getAttribute("description");D.textContent=l;var u=e.getAttribute("genres");N.textContent=u,_.classList.remove("is-hidden")}))}))})).catch((function(t){return console.error("error:"+t)}))})))})).catch((function(t){return console.error("error:"+t)}))})),m.addEventListener("click",(function(t){p.classList.toggle("is-hidden")})),u.addEventListener("click",(function(t){var e=u.checked;e&&(void 0===a("current-theme")&&(c("current-theme"),l.classList.remove("toggle"),l.classList.add("switched"),i("current-theme","dark"),s("dark")),l.classList.remove("toggle"),l.classList.add("switched"),c("current-theme"),i("current-theme","dark"),s("dark"));e||(void 0===a("current-theme")&&(l.classList.add("toggle"),l.classList.remove("switch"),i("current-theme","light"),s("light")),l.classList.add("toggle"),l.classList.remove("switch"),c("current-theme"),i("current-theme","light"),s("light"))})),v.addEventListener("click",(function(t){x.innerHTML="";var e=a("watched");if(paginationContainer.style.display="none",void 0===e||0===e.length){var n=document.createElement("p");n.setAttribute("class","empty-list"),n.textContent='Oops ! Your "Watched" library is empty !',x.append(n)}else{console.log(e);var r={headers:{Accept:"application/json"}};e.forEach((function(t){var e="https://api.themoviedb.org/3/movie/".concat(t,"?&api_key=").concat(L,"&language=en-US&page=1");o(e,r).then((function(t){return t.json()})).then((function(t){console.log(t),Z(t)})).catch((function(t){return console.error("error:"+t)}))}))}h.classList.toggle("is-hidden"),h.addEventListener("click",(function(t){x.innerHTML,c("watched");var e=document.createElement("p");e.setAttribute("class","empty-list"),e.textContent='Oops ! Your "Watched" library is empty !',x.append(e)})),b.classList.contains("is-hidden")||b.classList.toggle("is-hidden")})),f.addEventListener("click",(function(t){x.innerHTML=null;var e=a("queued");if(paginationContainer.style.display="none",void 0===e||0===e.length){var n=document.createElement("p");n.setAttribute("class","empty-list"),n.textContent='Oops ! Your "Queued" library is empty !',x.append(n)}else{var r={headers:{Accept:"application/json"}};e.forEach((function(t){var e="https://api.themoviedb.org/3/movie/".concat(t,"?&api_key=").concat(L,"&language=en-US&page=1");o(e,r).then((function(t){return t.json()})).then((function(t){console.log(t),Z(t)})).catch((function(t){return console.error("error:"+t)}))}))}b.classList.toggle("is-hidden"),b.addEventListener("click",(function(t){x.innerHTML=null,c("queued");var e=document.createElement("p");e.setAttribute("class","empty-list"),e.textContent='Oops ! Your "Queued" library is empty !',x.append(e)})),h.classList.contains("is-hidden")||h.classList.toggle("is-hidden")})),o(q,S).then((function(t){return t.json()})).then((function(t){x.innerHTML=null,console.log(t.results);var e=t.results;paginationContainer.style.display="block",e.map((function(t){G(t)})),currentPage=1,paginationContainer.addEventListener("click",(function(t){currentPage=t.currentTarget.querySelector(".active>span").textContent;var e="https://api.themoviedb.org/3/trending/movie/day?language=en-US&page=".concat(currentPage);x.innerHTML=null,o(e,S).then((function(t){return t.json()})).then((function(t){console.log(t),t.total_pages<20&&(totalPages=t.total_pages),t.results.map((function(t){G(t)})),document.querySelectorAll(".hero-cards-link").forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();var e=t.currentTarget,n=e.href;P.setAttribute("src",n);var r=e.getAttribute("id");P.setAttribute("id",r),U("queued",r,z,W),U("watched",r,Y,R);var o=e.getAttribute("title");T.textContent=o;var i=e.getAttribute("vote");j.textContent=i;var a=e.getAttribute("votes");M.textContent=a;var c=e.getAttribute("popularity");O.textContent=c;var s=e.getAttribute("original_title");J.textContent=s;var l=e.getAttribute("description");D.textContent=l;var u=e.getAttribute("genres");N.textContent=u,_.classList.toggle("is-hidden")}))}))})).catch((function(t){return console.error("error:"+t)}))})),document.querySelectorAll(".hero-cards-link").forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();var e=t.currentTarget,n=e.href;P.setAttribute("src",n);var r=e.getAttribute("id");P.setAttribute("id",r),U("queued",r,z,W),U("watched",r,Y,R);var o=e.getAttribute("title");T.textContent=o;var i=e.getAttribute("vote");j.textContent=i;var a=e.getAttribute("votes");M.textContent=a;var c=e.getAttribute("popularity");O.textContent=c;var s=e.getAttribute("original_title");J.textContent=s;var l=e.getAttribute("description");D.textContent=l;var u=e.getAttribute("genres");N.textContent=u,_.classList.toggle("is-hidden")}))}))})).catch((function(t){return console.error("error:"+t)}));var Q=document.querySelector(".page-up");window.onscroll=function(){document.documentElement.scrollTop>700?Q.style.display="flex":Q.style.display="none"},Q.addEventListener("click",(function(){document.documentElement.scrollTop=0}));var B=document.querySelector(".footer-modal-button"),F=document.querySelector(".footer-modal-close-button"),K=document.querySelector(".footer-modal");K.style.display="none",B.addEventListener("click",(function(){K.style.display="flex"})),F.addEventListener("click",(function(){K.style.display="none"})),window.addEventListener("click",(function(t){t.target==K&&(K.style.display="none")})),window.addEventListener("keyup",(function(t){"Escape"===t.key&&(K.style.display="none")}))}();
//# sourceMappingURL=index.d33e8a1b.js.map
