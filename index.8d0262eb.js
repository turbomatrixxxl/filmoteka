!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequired76b;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequired76b=r),r.register("dzRKM",(function(t,n){"use strict";var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();t.exports=n=r.fetch,r.fetch&&(n.default=r.fetch.bind(r)),n.Headers=r.Headers,n.Request=r.Request,n.Response=r.Response}));var o=r("dzRKM");window.addEventListener("keyup",(function(e){if("Escape"===e.key){if(_.classList.contains("is-hidden"))return;_.classList.add("is-hidden")}}));var a=function(e,t){try{var n=JSON.stringify(t);localStorage.setItem(e,n)}catch(e){console.error("Set state error: ",e.message)}},i=function(e){try{var t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error("Get state error: ",e.message)}},c=function(e){try{var t=localStorage.removeItem(e);return null===t?void 0:JSON.stringify(t)}catch(e){console.error("Get state error: ",e.message)}};function s(e){"dark"==e&&(c("current-theme"),a("current-theme","dark"),document.documentElement.style.setProperty("--white","#8c8c8c"),document.documentElement.style.setProperty("--gray","#fff"),document.documentElement.style.setProperty("--light-gray","#fff"),document.documentElement.style.setProperty("--red","#fff"),document.documentElement.style.setProperty("--footer-bg","#545454"),document.documentElement.style.setProperty("--blue","#b92f2c"),document.documentElement.style.setProperty("--black","#fff")),"light"==e&&(c("current-theme"),a("current-theme","light"),document.documentElement.style.setProperty("--white","#fff"),document.documentElement.style.setProperty("--gray","#545454"),document.documentElement.style.setProperty("--light-gray","#8c8c8c"),document.documentElement.style.setProperty("--red","#ff6b08"),document.documentElement.style.setProperty("--footer-bg","#f7f7f7"),document.documentElement.style.setProperty("--blue","rgb(16, 16, 211)"),document.documentElement.style.setProperty("--black","#000"))}var l=document.querySelector("label#toggle"),u=(l.getAttribute("class"),document.querySelector(".checkbox")),d=u.checked,g=i("current-theme");if(void 0===g||0==d||g.includes("light")){l.getAttribute("class");l.classList.remove("switched"),l.classList.add("toggle"),console.log(d),c("current-theme"),a("current-theme","light"),s("light"),d=!1}(g.includes("dark")||1==d)&&(l.classList.remove("toggle"),l.classList.add("switched"),console.log(d),c("current-theme"),a("current-theme","dark"),s("dark"),d=!0),console.log(d);document.body;var m=document.querySelector(".header-library-button"),p=document.querySelector(".header-bottom-buttons-container"),h=document.querySelector(".header-watched-button"),v=document.querySelector(".header-clear-watched-button"),f=document.querySelector(".header-queue-button"),b=document.querySelector(".header-clear-queue-button"),y=document.querySelector(".search-form-input"),A=null,E=document.querySelector(".search-form-button"),L=document.querySelector(".header__error"),k=document.querySelector(".gallery"),q="90080ff184cabebdf1b42eaa88fb5738",C="https://api.themoviedb.org/3/trending/movie/day?language=en-US&page=".concat(currentPage),w="https://api.themoviedb.org/3/genre/movie/list?language=en&page=".concat(currentPage),x={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5MDA4MGZmMTg0Y2FiZWJkZjFiNDJlYWE4OGZiNTczOCIsInN1YiI6IjY2NjAyNTUwN2MwMjgyZWYzMDRmNjAxOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.-GiosJEhvb8JZPRVsDWYKnyMuBuXM_jJXaHMa3NkslY"}},_=document.querySelector(".modal-window");console.log(_);var S=document.querySelector(".modal-img"),P=document.querySelector(".modal-title"),T=document.querySelector(".modal-vote"),j=document.querySelector(".modal-votes"),M=document.querySelector(".modal-popularity-result"),O=document.querySelector(".modal-original-title-result"),J=document.querySelector(".modal-genre-result"),H=document.querySelector(".modal-movie-description");function N(e){e.classList.add("is-hidden")}function I(e){e.classList.remove("is-hidden")}function Y(e,t,n,r){var o=i("".concat(e));void 0===o?(N(r),I(n)):o.includes(t)?(N(n),I(r)):(N(r),I(n))}document.querySelector(".modal-close-button").addEventListener("click",(function(){_.classList.toggle("is-hidden")}));var D=document.querySelector(".modal-add-to-watched-btn"),R=document.querySelector(".remove-from-watched");N(R),D.addEventListener("click",(function(e){var t=S.getAttribute("id"),n=i("watched");void 0===n||0===n.length?a("watched",[t]):n.includes(t)?console.log("it has"):(n.push(t),a("watched",n));N(D),I(R)})),R.addEventListener("click",(function(e){var t=S.getAttribute("id"),n=i("watched").filter((function(e){return e!==t}));a("watched",n),N(R),I(D)}));var U=document.querySelector(".modal-add-to-queue-btn"),z=document.querySelector(".remove-from-queue-btn");function W(){document.querySelectorAll(".hero-cards-link").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=e.currentTarget,n=t.href;S.setAttribute("src",n);var r=t.getAttribute("id");S.setAttribute("id",r),Y("queued",r,U,z),Y("watched",r,D,R);var o=t.getAttribute("title");P.textContent=o;var a=t.getAttribute("vote");T.textContent=a;var i=t.getAttribute("votes");j.textContent=i;var c=t.getAttribute("popularity");M.textContent=c;var s=t.getAttribute("original_title");O.textContent=s;var l=t.getAttribute("description");H.textContent=l;var u=t.getAttribute("genres");J.textContent=u,_.classList.toggle("is-hidden")}))}))}function G(e){var t=document.createElement("div");t.setAttribute("class","movie-card item"),t.setAttribute("data-movie-id","".concat(e.id)),k.append(t);var n=document.createElement("a");null===e.backdrop_path?n.setAttribute("href","https://lascrucesfilmfest.com/wp-content/uploads/2018/01/no-poster-available.jpg"):n.setAttribute("href","https://image.tmdb.org/t/p/original/".concat(e.poster_path));var r=e.genre_ids,a=[];r.forEach((function(e){o(w,x).then((function(e){return e.json()})).then((function(t){t.genres.map((function(t){if(t.id===e)if(a.push(t.name),a.length<=3)n.setAttribute("genres",a);else{var r=a.slice(0,2);n.setAttribute("genres","".concat(r,",Other"))}}))})).catch((function(e){return console.error("error:"+e)}))})),n.setAttribute("class","hero-cards-link"),n.setAttribute("title","".concat(e.title)),n.setAttribute("vote","".concat(e.vote_average)),n.setAttribute("votes","".concat(e.vote_count)),n.setAttribute("popularity","".concat(e.popularity)),n.setAttribute("original_title","".concat(e.original_title)),n.setAttribute("description","".concat(e.overview)),n.setAttribute("id",e.id),t.append(n);var i=document.createElement("img");null===e.backdrop_path?i.setAttribute("src","https://lascrucesfilmfest.com/wp-content/uploads/2018/01/no-poster-available.jpg"):i.setAttribute("src","https://image.tmdb.org/t/p/original/".concat(e.backdrop_path)),i.setAttribute("class","hero-cards-image"),i.setAttribute("alt","".concat(e.media_type)),i.setAttribute("loading","lazy"),i.setAttribute("id",e.id),n.append(i);var c=document.createElement("div");c.setAttribute("class","hero-movie-details-container"),c.setAttribute("data-movie-id","".concat(e.id)),t.append(c);var s=document.createElement("h3");s.setAttribute("class","hero-movie-title"),s.textContent="".concat(e.title),c.append(s);var l=document.createElement("ul");l.setAttribute("class","hero-movie-genres-list");var u=e.genre_ids;if(u.length>3){(u=u.slice(0,2)).forEach((function(e){var t=document.createElement("li");t.setAttribute("class","hero-movie-genres-list-item"),o(w,x).then((function(e){return e.json()})).then((function(n){n.genres.map((function(n){n.id===e&&(t.textContent="".concat(n.name,","))}))})).catch((function(e){return console.error("error:"+e)})),l.append(t)}));var d=document.createElement("li");d.setAttribute("class","hero-movie-genres-list-item"),d.textContent="Otherr",l.append(d)}else if(0===u.length){var g=document.createElement("li");g.setAttribute("class","hero-movie-genres-list-item"),g.textContent="Otherr",l.append(g)}else u.forEach((function(e){var t=document.createElement("li");t.setAttribute("class","hero-movie-genres-list-item"),o(w,x).then((function(e){return e.json()})).then((function(n){n.genres.map((function(n){n.id===e&&(t.textContent="".concat(n.name,","))}))})).catch((function(e){return console.error("error:"+e)})),l.append(t)}));setTimeout((function(){var e=l.lastChild,t=e.textContent;e.textContent=t.slice(0,-1)}),2e3);var m=e.release_date.slice(0,4),p=document.createElement("span");p.setAttribute("class","hero-year-span"),p.textContent="| "+m;var h=document.createElement("span");h.setAttribute("class","hero-votes-span"),h.textContent=e.vote_average;var v=document.createElement("div");v.setAttribute("class","hero-details-container"),c.append(v),v.append(l,p,h)}function Z(e){var t=document.createElement("div");t.setAttribute("class","movie-card item"),t.setAttribute("data-movie-id","".concat(e.id)),k.append(t);var n=document.createElement("a");null===e.backdrop_path?n.setAttribute("href","https://lascrucesfilmfest.com/wp-content/uploads/2018/01/no-poster-available.jpg"):n.setAttribute("href","https://image.tmdb.org/t/p/original/".concat(e.poster_path));var r=e.genres,o=r.length,a=[];o<=2?r.map((function(e){a.push(e.name),n.setAttribute("genres",a)})):(a.push(r[0].name,r[1].name,"Other"),n.setAttribute("genres",a)),n.setAttribute("class","hero-cards-link"),n.setAttribute("title","".concat(e.title)),n.setAttribute("vote","".concat(e.vote_average)),n.setAttribute("votes","".concat(e.vote_count)),n.setAttribute("popularity","".concat(e.popularity)),n.setAttribute("original_title","".concat(e.original_title)),n.setAttribute("description","".concat(e.overview)),n.setAttribute("id",e.id),t.append(n);var i=document.createElement("img");null===e.backdrop_path?i.setAttribute("src","https://lascrucesfilmfest.com/wp-content/uploads/2018/01/no-poster-available.jpg"):i.setAttribute("src","https://image.tmdb.org/t/p/original/".concat(e.backdrop_path)),i.setAttribute("class","hero-cards-image"),i.setAttribute("alt","".concat(e.media_type)),i.setAttribute("loading","lazy"),i.setAttribute("id",e.id),n.append(i);var c=document.createElement("div");c.setAttribute("class","hero-movie-details-container"),c.setAttribute("data-movie-id","".concat(e.id)),t.append(c);var s=document.createElement("h3");s.setAttribute("class","hero-movie-title"),s.textContent="".concat(e.title),c.append(s);var l=document.createElement("ul");l.setAttribute("class","hero-movie-genres-list");var u=n.getAttribute("genres"),d=document.createElement("li");d.setAttribute("class","hero-movie-genres-list-item"),d.textContent=u,l.append(d);var g=e.release_date.slice(0,4),m=document.createElement("span");m.setAttribute("class","hero-year-span"),m.textContent="| "+g;var p=document.createElement("span");p.setAttribute("class","hero-votes-span"),p.textContent=e.vote_average;var h=document.createElement("div");h.setAttribute("class","hero-details-container"),c.append(h),h.append(l,m,p),n.addEventListener("click",(function(e){e.preventDefault(),console.log(e.target);var t=e.currentTarget;console.log(t);var n=t.href;S.setAttribute("src",n);var r=t.getAttribute("id");S.setAttribute("id",r),Y("queued",r,U,z),Y("watched",r,D,R);var o=t.getAttribute("title");P.textContent=o;var a=t.getAttribute("vote");T.textContent=a;var i=t.getAttribute("votes");j.textContent=i;var c=t.getAttribute("popularity");M.textContent=c;var s=t.getAttribute("original_title");O.textContent=s;var l=t.getAttribute("description");H.textContent=l;var u=t.getAttribute("genres");J.textContent=u,_.classList.toggle("is-hidden")}))}N(z),U.addEventListener("click",(function(e){var t=S.getAttribute("id");console.log(t);var n=i("queued");(console.log(n),void 0===n||0===n.length)?a("queued",[t]):n.includes(t)?console.log("it has"):(n.push(t),console.log(n),a("queued",n),console.log("it dont has"));N(U),I(z)})),z.addEventListener("click",(function(e){var t=S.getAttribute("id");console.log(t);var n=i("queued");console.log(n);var r=n.filter((function(e){return e!==t}));console.log(r),a("queued",r),N(z),I(U)})),y.addEventListener("input",(function(e){p.classList.contains("is-hidden")||p.classList.add("is-hidden"),0===y.value.length&&(L.style.display="none",console.log("empty"))})),y.addEventListener("change",(function(e){p.classList.contains("is-hidden")||p.classList.add("is-hidden"),L.style.display="none",E.disabled=!1,console.log("change")})),E.addEventListener("click",(function(e){e.preventDefault(),p.classList.contains("is-hidden")||p.classList.add("is-hidden"),paginationContainer.style.display="block",E.disabled=!0,A=y.value.replace(/ /g,"%20");var t="https://api.themoviedb.org/3/search/movie?query=".concat(A,"&include_adult=true&language=en-US&page=").concat(currentPage);k.innerHTML=null,o(t,x).then((function(e){return e.json()})).then((function(e){console.log(e);var n=e.results;0===n.length&&(L.style.display="block",console.log("not found")),console.log(e.total_pages),console.log(2<=e.total_pages<20),console.log(e.total_pages<=1),n.map((function(e){G(e),console.log("search")})),W(),e.total_pages<=1&&(paginationContainer.style.display="none"),2<=e.total_pages<20&&(totalPages=e.total_pages,element.innerHTML=createPagination(totalPages,page)),e.total_pages>20&&(page=1,totalPages=20,element.innerHTML=createPagination(totalPages,page)),paginationContainer.addEventListener("click",(function(e){currentPage=e.currentTarget.querySelector(".active>span").textContent,console.log(currentPage),t="https://api.themoviedb.org/3/search/movie?query=".concat(A,"&include_adult=true&language=en-US&page=").concat(currentPage),k.innerHTML=null,console.log(t),o(t,x).then((function(e){return e.json()})).then((function(e){console.log(e.total_pages),console.log(e.results),e.results.map((function(e){G(e)})),W()})).catch((function(e){return console.error("error:"+e)}))}))})).catch((function(e){return console.error("error:"+e)}))})),m.addEventListener("click",(function(e){p.classList.toggle("is-hidden")})),u.addEventListener("click",(function(e){var t=u.checked;t&&(void 0===i("current-theme")&&(c("current-theme"),l.classList.remove("toggle"),l.classList.add("switched"),a("current-theme","dark"),s("dark")),l.classList.remove("toggle"),l.classList.add("switched"),c("current-theme"),a("current-theme","dark"),s("dark"));t||(void 0===i("current-theme")&&(l.classList.add("toggle"),l.classList.remove("switch"),a("current-theme","light"),s("light")),l.classList.add("toggle"),l.classList.remove("switch"),c("current-theme"),a("current-theme","light"),s("light"))})),h.addEventListener("click",(function(e){k.innerHTML="";var t=i("watched");if(paginationContainer.style.display="none",void 0===t||0===t.length){var n=document.createElement("p");n.setAttribute("class","empty-list"),n.textContent='Oops ! Your "Watched" library is empty !',k.append(n)}else{console.log(t);var r={headers:{Accept:"application/json"}};t.forEach((function(e){var t="https://api.themoviedb.org/3/movie/".concat(e,"?&api_key=").concat(q,"&language=en-US&page=1");o(t,r).then((function(e){return e.json()})).then((function(e){console.log(e),Z(e)})).catch((function(e){return console.error("error:"+e)}))}))}v.classList.toggle("is-hidden"),v.addEventListener("click",(function(e){k.innerHTML,c("watched");var t=document.createElement("p");t.setAttribute("class","empty-list"),t.textContent='Oops ! Your "Watched" library is empty !',k.append(t)})),b.classList.contains("is-hidden")||b.classList.toggle("is-hidden")})),f.addEventListener("click",(function(e){k.innerHTML=null;var t=i("queued");if(paginationContainer.style.display="none",void 0===t||0===t.length){var n=document.createElement("p");n.setAttribute("class","empty-list"),n.textContent='Oops ! Your "Queued" library is empty !',k.append(n)}else{var r={headers:{Accept:"application/json"}};t.forEach((function(e){var t="https://api.themoviedb.org/3/movie/".concat(e,"?&api_key=").concat(q,"&language=en-US&page=1");o(t,r).then((function(e){return e.json()})).then((function(e){console.log(e),Z(e)})).catch((function(e){return console.error("error:"+e)}))}))}b.classList.toggle("is-hidden"),b.addEventListener("click",(function(e){k.innerHTML=null,c("queued");var t=document.createElement("p");t.setAttribute("class","empty-list"),t.textContent='Oops ! Your "Queued" library is empty !',k.append(t)})),v.classList.contains("is-hidden")||v.classList.toggle("is-hidden")})),o(C,x).then((function(e){return e.json()})).then((function(e){k.innerHTML=null,console.log(e);var t=e.results;console.log(e.total_pages),console.log(totalPages),paginationContainer.style.display="block",e.total_pages<=1&&(paginationContainer.style.display="none"),2<=e.total_pages<20&&(page=1,totalPages=e.total_pages,element.innerHTML=createPagination(totalPages,page)),page=1,totalPages=20,element.innerHTML=createPagination(totalPages,page),paginationContainer.addEventListener("click",(function(e){currentPage=e.currentTarget.querySelector(".active>span").textContent;var t="https://api.themoviedb.org/3/trending/movie/day?language=en-US&page=".concat(currentPage);k.innerHTML=null,o(t,x).then((function(e){return e.json()})).then((function(e){e.results.map((function(e){G(e)})),document.querySelectorAll(".hero-cards-link").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=e.currentTarget,n=t.href;S.setAttribute("src",n);var r=t.getAttribute("id");S.setAttribute("id",r),Y("queued",r,U,z),Y("watched",r,D,R);var o=t.getAttribute("title");P.textContent=o;var a=t.getAttribute("vote");T.textContent=a;var i=t.getAttribute("votes");j.textContent=i;var c=t.getAttribute("popularity");M.textContent=c;var s=t.getAttribute("original_title");O.textContent=s;var l=t.getAttribute("description");H.textContent=l;var u=t.getAttribute("genres");J.textContent=u,_.classList.toggle("is-hidden")}))}))})).catch((function(e){return console.error("error:"+e)}))})),t.map((function(e){G(e)})),W()})).catch((function(e){return console.error("error:"+e)}));var Q=document.querySelector(".page-up");window.onscroll=function(){document.documentElement.scrollTop>700?Q.style.display="flex":Q.style.display="none"},Q.addEventListener("click",(function(){document.documentElement.scrollTop=0}));var B=document.querySelector(".footer-modal-button"),F=document.querySelector(".footer-modal-close-button"),K=document.querySelector(".footer-modal");K.style.display="none",B.addEventListener("click",(function(){K.style.display="flex"})),F.addEventListener("click",(function(){K.style.display="none"})),window.addEventListener("click",(function(e){e.target==K&&(K.style.display="none")})),window.addEventListener("keyup",(function(e){"Escape"===e.key&&(K.style.display="none")}))}();
//# sourceMappingURL=index.8d0262eb.js.map
