var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},o=t.parcelRequired76b;null==o&&((o=function(t){if(t in e)return e[t].exports;if(t in n){var o=n[t];delete n[t];var r={id:t,exports:{}};return e[t]=r,o.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){n[t]=e},t.parcelRequired76b=o),o.register("6fIKZ",(function(e,n){var o=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();e.exports=n=o.fetch,o.fetch&&(n.default=o.fetch.bind(o)),n.Headers=o.Headers,n.Request=o.Request,n.Response=o.Response}));var r=o("6fIKZ");window.addEventListener("keyup",(t=>{if("Escape"===t.key){if(S.classList.contains("is-hidden"))return;S.classList.add("is-hidden")}}));const s=(t,e)=>{try{const n=JSON.stringify(e);localStorage.setItem(t,n)}catch(t){console.error("Set state error: ",t.message)}},i=t=>{try{const e=localStorage.getItem(t);return null===e?void 0:JSON.parse(e)}catch(t){console.error("Get state error: ",t.message)}},c=t=>{try{const e=localStorage.removeItem(t);return null===e?void 0:JSON.stringify(e)}catch(t){console.error("Get state error: ",t.message)}};function l(t){"dark"==t&&(c("current-theme"),s("current-theme","dark"),document.documentElement.style.setProperty("--white","#8c8c8c"),document.documentElement.style.setProperty("--gray","#fff"),document.documentElement.style.setProperty("--light-gray","#fff"),document.documentElement.style.setProperty("--red","#fff"),document.documentElement.style.setProperty("--footer-bg","#545454"),document.documentElement.style.setProperty("--blue","#b92f2c"),document.documentElement.style.setProperty("--black","#fff")),"light"==t&&(c("current-theme"),s("current-theme","light"),document.documentElement.style.setProperty("--white","#fff"),document.documentElement.style.setProperty("--gray","#545454"),document.documentElement.style.setProperty("--light-gray","#8c8c8c"),document.documentElement.style.setProperty("--red","#ff6b08"),document.documentElement.style.setProperty("--footer-bg","#f7f7f7"),document.documentElement.style.setProperty("--blue","rgb(16, 16, 211)"),document.documentElement.style.setProperty("--black","#000"))}let a=document.querySelector("label#toggle");a.getAttribute("class");const d=document.querySelector(".checkbox");var u=d.checked;const g=i("current-theme");if(void 0===g||0==u||g.includes("light")){a.getAttribute("class");a.classList.remove("switched"),a.classList.add("toggle"),console.log(u),c("current-theme"),s("current-theme","light"),l("light"),u=!1}(g.includes("dark")||1==u)&&(a.classList.remove("toggle"),a.classList.add("switched"),console.log(u),c("current-theme"),s("current-theme","dark"),l("dark"),u=!0),console.log(u);document.body;const m=document.querySelector(".header-library-button"),p=document.querySelector(".header-bottom-buttons-container"),h=document.querySelector(".header-watched-button"),b=document.querySelector(".header-clear-watched-button"),y=document.querySelector(".header-queue-button"),v=document.querySelector(".header-clear-queue-button"),A=document.querySelector(".search-form-input");let f=null;const E=document.querySelector(".search-form-button"),C=document.querySelector(".header__error"),x=document.querySelector(".gallery"),L="https://lascrucesfilmfest.com/wp-content/uploads/2018/01/no-poster-available.jpg",k=`https://api.themoviedb.org/3/trending/movie/day?language=en-US&page=${currentPage}`,q=`https://api.themoviedb.org/3/genre/movie/list?language=en&page=${currentPage}`,w={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5MDA4MGZmMTg0Y2FiZWJkZjFiNDJlYWE4OGZiNTczOCIsInN1YiI6IjY2NjAyNTUwN2MwMjgyZWYzMDRmNjAxOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.-GiosJEhvb8JZPRVsDWYKnyMuBuXM_jJXaHMa3NkslY"}},S=document.querySelector(".modal-window");console.log(S);const _=document.querySelector(".modal-img"),$=document.querySelector(".modal-title"),P=document.querySelector(".modal-vote"),T=document.querySelector(".modal-votes"),j=document.querySelector(".modal-popularity-result"),M=document.querySelector(".modal-original-title-result"),O=document.querySelector(".modal-genre-result"),I=document.querySelector(".modal-movie-description");function J(t){t.classList.add("is-hidden")}function N(t){t.classList.remove("is-hidden")}function D(t,e,n,o){let r=i(`${t}`);void 0===r?(J(o),N(n)):r.includes(e)?(J(n),N(o)):(J(o),N(n))}document.querySelector(".modal-close-button").addEventListener("click",(()=>{S.classList.toggle("is-hidden")}));const H=document.querySelector(".modal-add-to-watched-btn"),U=document.querySelector(".remove-from-watched");J(U),H.addEventListener("click",(t=>{let e=_.getAttribute("id"),n=i("watched");if(void 0===n||0===n.length)s("watched",[e]);else{n.includes(e)?console.log("it has"):(n.push(e),s("watched",n))}J(H),N(U)})),U.addEventListener("click",(t=>{let e=_.getAttribute("id"),n=i("watched").filter((t=>t!==e));s("watched",n),J(U),N(H)}));const Y=document.querySelector(".modal-add-to-queue-btn"),Z=document.querySelector(".remove-from-queue-btn");function W(t){const e=document.createElement("div");e.setAttribute("class","movie-card item"),e.setAttribute("data-movie-id",`${t.id}`),x.append(e);const n=document.createElement("a");null===t.backdrop_path?n.setAttribute("href","https://lascrucesfilmfest.com/wp-content/uploads/2018/01/no-poster-available.jpg"):n.setAttribute("href",`https://image.tmdb.org/t/p/original/${t.poster_path}`);const o=t.genre_ids;let s=[];o.forEach((t=>{r(q,w).then((t=>t.json())).then((e=>{e.genres.map((e=>{if(e.id===t)if(s.push(e.name),s.length<=3)n.setAttribute("genres",s);else{let t=s.slice(0,2);n.setAttribute("genres",`${t},Other`)}}))})).catch((t=>console.error("error:"+t)))})),n.setAttribute("class","hero-cards-link"),n.setAttribute("title",`${t.title}`),n.setAttribute("vote",`${t.vote_average}`),n.setAttribute("votes",`${t.vote_count}`),n.setAttribute("popularity",`${t.popularity}`),n.setAttribute("original_title",`${t.original_title}`),n.setAttribute("description",`${t.overview}`),n.setAttribute("id",t.id),e.append(n);const i=document.createElement("img");null===t.backdrop_path?i.setAttribute("src","https://lascrucesfilmfest.com/wp-content/uploads/2018/01/no-poster-available.jpg"):i.setAttribute("src",`https://image.tmdb.org/t/p/original/${t.backdrop_path}`),i.setAttribute("class","hero-cards-image"),i.setAttribute("alt",`${t.media_type}`),i.setAttribute("loading","lazy"),i.setAttribute("id",t.id),n.append(i);const c=document.createElement("div");c.setAttribute("class","hero-movie-details-container"),c.setAttribute("data-movie-id",`${t.id}`),e.append(c);const l=document.createElement("h3");l.setAttribute("class","hero-movie-title"),l.textContent=`${t.title}`,c.append(l);const a=document.createElement("ul");a.setAttribute("class","hero-movie-genres-list");let d=t.genre_ids;if(d.length>3){d=d.slice(0,2),d.forEach((t=>{const e=document.createElement("li");e.setAttribute("class","hero-movie-genres-list-item"),r(q,w).then((t=>t.json())).then((n=>{n.genres.map((n=>{n.id===t&&(e.textContent=`${n.name},`)}))})).catch((t=>console.error("error:"+t))),a.append(e)}));const t=document.createElement("li");t.setAttribute("class","hero-movie-genres-list-item"),t.textContent="Otherr",a.append(t)}else if(0===d.length){const t=document.createElement("li");t.setAttribute("class","hero-movie-genres-list-item"),t.textContent="Otherr",a.append(t)}else d.forEach((t=>{const e=document.createElement("li");e.setAttribute("class","hero-movie-genres-list-item"),r(q,w).then((t=>t.json())).then((n=>{n.genres.map((n=>{n.id===t&&(e.textContent=`${n.name},`)}))})).catch((t=>console.error("error:"+t))),a.append(e)}));setTimeout((function(){let t=a.lastChild,e=t.textContent;t.textContent=e.slice(0,-1)}),2e3);const u=t.release_date.slice(0,4),g=document.createElement("span");g.setAttribute("class","hero-year-span"),g.textContent="| "+u;const m=document.createElement("span");m.setAttribute("class","hero-votes-span"),m.textContent=t.vote_average;const p=document.createElement("div");p.setAttribute("class","hero-details-container"),c.append(p),p.append(a,g,m)}function G(t){const e=document.createElement("div");e.setAttribute("class","movie-card item"),e.setAttribute("data-movie-id",`${t.id}`),x.append(e);const n=document.createElement("a");null===t.backdrop_path?n.setAttribute("href","https://lascrucesfilmfest.com/wp-content/uploads/2018/01/no-poster-available.jpg"):n.setAttribute("href",`https://image.tmdb.org/t/p/original/${t.poster_path}`);const o=t.genres,r=o.length;let s=[];r<=2?o.map((t=>{s.push(t.name),n.setAttribute("genres",s)})):(s.push(o[0].name,o[1].name,"Other"),n.setAttribute("genres",s)),n.setAttribute("class","hero-cards-link"),n.setAttribute("title",`${t.title}`),n.setAttribute("vote",`${t.vote_average}`),n.setAttribute("votes",`${t.vote_count}`),n.setAttribute("popularity",`${t.popularity}`),n.setAttribute("original_title",`${t.original_title}`),n.setAttribute("description",`${t.overview}`),n.setAttribute("id",t.id),e.append(n);const i=document.createElement("img");null===t.backdrop_path?i.setAttribute("src","https://lascrucesfilmfest.com/wp-content/uploads/2018/01/no-poster-available.jpg"):i.setAttribute("src",`https://image.tmdb.org/t/p/original/${t.backdrop_path}`),i.setAttribute("class","hero-cards-image"),i.setAttribute("alt",`${t.media_type}`),i.setAttribute("loading","lazy"),i.setAttribute("id",t.id),n.append(i);const c=document.createElement("div");c.setAttribute("class","hero-movie-details-container"),c.setAttribute("data-movie-id",`${t.id}`),e.append(c);const l=document.createElement("h3");l.setAttribute("class","hero-movie-title"),l.textContent=`${t.title}`,c.append(l);const a=document.createElement("ul");a.setAttribute("class","hero-movie-genres-list");let d=n.getAttribute("genres");const u=document.createElement("li");u.setAttribute("class","hero-movie-genres-list-item"),u.textContent=d,a.append(u);const g=t.release_date.slice(0,4),m=document.createElement("span");m.setAttribute("class","hero-year-span"),m.textContent="| "+g;const p=document.createElement("span");p.setAttribute("class","hero-votes-span"),p.textContent=t.vote_average;const h=document.createElement("div");h.setAttribute("class","hero-details-container"),c.append(h),h.append(a,m,p),n.addEventListener("click",(t=>{t.preventDefault(),console.log(t.target);const e=t.currentTarget;console.log(e);const n=e.href;_.setAttribute("src",n);const o=e.getAttribute("id");_.setAttribute("id",o),D("queued",o,Y,Z),D("watched",o,H,U);const r=e.getAttribute("title");$.textContent=r;const s=e.getAttribute("vote");P.textContent=s;const i=e.getAttribute("votes");T.textContent=i;const c=e.getAttribute("popularity");j.textContent=c;const l=e.getAttribute("original_title");M.textContent=l;const a=e.getAttribute("description");I.textContent=a;const d=e.getAttribute("genres");O.textContent=d,S.classList.toggle("is-hidden")}))}J(Z),Y.addEventListener("click",(t=>{let e=_.getAttribute("id");console.log(e);let n=i("queued");if(console.log(n),void 0===n||0===n.length)s("queued",[e]);else{n.includes(e)?console.log("it has"):(n.push(e),console.log(n),s("queued",n),console.log("it dont has"))}J(Y),N(Z)})),Z.addEventListener("click",(t=>{let e=_.getAttribute("id");console.log(e);let n=i("queued");console.log(n);let o=n.filter((t=>t!==e));console.log(o),s("queued",o),J(Z),N(Y)})),E.addEventListener("click",(t=>{t.preventDefault(),p.classList.contains("is-hidden")||p.classList.add("is-hidden"),paginationContainer.style.display="block",E.disabled=!0,A.addEventListener("change",(t=>{p.classList.contains("is-hidden")||p.classList.add("is-hidden"),E.disabled=!1,console.log("change")})),A.addEventListener("input",(t=>{p.classList.contains("is-hidden")||p.classList.add("is-hidden"),0===A.value.length&&(C.style.display="none")})),f=A.value.replace(/ /g,"%20");let e=`https://api.themoviedb.org/3/search/movie?query=${f}&include_adult=true&language=en-US&page=${currentPage}`;x.innerHTML=null,r(e,w).then((t=>t.json())).then((t=>{console.log(t),console.log(t.results);if(0===t.results.length)C.style.display="block",console.log("not found"),r(k,w).then((t=>t.json())).then((t=>{t.results.map((t=>{W(t)}));document.querySelectorAll(".hero-cards-link").forEach((t=>{t.querySelector(".hero-cards-image");t.addEventListener("click",(t=>{t.preventDefault();const e=t.currentTarget;console.log(e);const n=e.href;_.setAttribute("src",n);const o=e.getAttribute("id");_.setAttribute("id",o),D("queued",o,Y,Z),D("watched",o,H,U);const r=e.getAttribute("title");$.textContent=r;const s=e.getAttribute("vote");P.textContent=s;const i=e.getAttribute("votes");T.textContent=i;const c=e.getAttribute("popularity");j.textContent=c;const l=e.getAttribute("original_title");M.textContent=l;const a=e.getAttribute("description");I.textContent=a;const d=e.getAttribute("genres");O.textContent=d,S.classList.toggle("is-hidden")}))})),currentPage=1,paginationContainer.addEventListener("click",(t=>{currentPage=t.currentTarget.querySelector(".active>span").textContent,console.log(currentPage),e=`https://api.themoviedb.org/3/search/movie?query=${f}&include_adult=true&language=en-US&page=${currentPage}`,x.innerHTML=null,console.log(e),r(e,w).then((t=>t.json())).then((t=>{console.log(t.total_pages),t.total_pages<20&&(totalPages=t.total_pages),console.log(t.results);const e=t.results;if(0===e.length)C.style.display="block";else{C.style.display="none";t.results.map((t=>{W(t),console.log("search")}))}e.map((t=>{W(t)}));document.querySelectorAll(".hero-cards-link").forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault();const e=t.currentTarget;console.log(e);const n=e.getAttribute("id");if(_.setAttribute("id",n),D("queued",n,Y,Z),D("watched",n,H,U),e.href===L)_.setAttribute("src",L);else{const t=e.href;_.setAttribute("src",t)}const o=e.getAttribute("title");$.textContent=o;const r=e.getAttribute("vote");P.textContent=r;const s=e.getAttribute("votes");T.textContent=s;const i=e.getAttribute("popularity");j.textContent=i;const c=e.getAttribute("original_title");M.textContent=c;const l=e.getAttribute("description");I.textContent=l;const a=e.getAttribute("genres");O.textContent=a,S.classList.remove("is-hidden")}))}))})).catch((t=>console.error("error:"+t)))}))})).catch((t=>console.error("error:"+t)));else{C.style.display="none";t.results.map((t=>{W(t),console.log("search")}));document.querySelectorAll(".hero-cards-link").forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault();const e=t.currentTarget;console.log(e);const n=e.getAttribute("id");if(_.setAttribute("id",n),D("queued",n,Y,Z),D("watched",n,H,U),e.href===L)_.setAttribute("src",L);else{const t=e.href;_.setAttribute("src",t)}const o=e.getAttribute("title");$.textContent=o;const r=e.getAttribute("vote");P.textContent=r;const s=e.getAttribute("votes");T.textContent=s;const i=e.getAttribute("popularity");j.textContent=i;const c=e.getAttribute("original_title");M.textContent=c;const l=e.getAttribute("description");I.textContent=l;const a=e.getAttribute("genres");O.textContent=a,S.classList.remove("is-hidden")}))})),currentPage=1,paginationContainer.addEventListener("click",(t=>{currentPage=t.currentTarget.querySelector(".active>span").textContent,console.log(currentPage),e=`https://api.themoviedb.org/3/search/movie?query=${f}&include_adult=true&language=en-US&page=${currentPage}`,x.innerHTML=null,console.log(e),r(e,w).then((t=>t.json())).then((t=>{console.log(t.total_pages),t.total_pages<20&&(totalPages=t.total_pages),console.log(t.results);const e=t.results;if(0===e.length)C.style.display="block";else{C.style.display="none";t.results.map((t=>{W(t),console.log("search")}))}e.map((t=>{W(t)}));document.querySelectorAll(".hero-cards-link").forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault();const e=t.currentTarget;console.log(e);const n=e.getAttribute("id");if(_.setAttribute("id",n),D("queued",n,Y,Z),D("watched",n,H,U),e.href===L)_.setAttribute("src",L);else{const t=e.href;_.setAttribute("src",t)}const o=e.getAttribute("title");$.textContent=o;const r=e.getAttribute("vote");P.textContent=r;const s=e.getAttribute("votes");T.textContent=s;const i=e.getAttribute("popularity");j.textContent=i;const c=e.getAttribute("original_title");M.textContent=c;const l=e.getAttribute("description");I.textContent=l;const a=e.getAttribute("genres");O.textContent=a,S.classList.remove("is-hidden")}))}))})).catch((t=>console.error("error:"+t)))}))}})).catch((t=>console.error("error:"+t)))})),m.addEventListener("click",(t=>{p.classList.toggle("is-hidden")})),d.addEventListener("click",(t=>{var e=d.checked;if(e){void 0===i("current-theme")&&(c("current-theme"),a.classList.remove("toggle"),a.classList.add("switched"),s("current-theme","dark"),l("dark")),a.classList.remove("toggle"),a.classList.add("switched"),c("current-theme"),s("current-theme","dark"),l("dark")}if(!e){void 0===i("current-theme")&&(a.classList.add("toggle"),a.classList.remove("switch"),s("current-theme","light"),l("light")),a.classList.add("toggle"),a.classList.remove("switch"),c("current-theme"),s("current-theme","light"),l("light")}})),h.addEventListener("click",(t=>{x.innerHTML="";const e=i("watched");if(paginationContainer.style.display="none",void 0===e||0===e.length){let t=document.createElement("p");t.setAttribute("class","empty-list"),t.textContent='Oops ! Your "Watched" library is empty !',x.append(t)}else{console.log(e);const t={headers:{Accept:"application/json"}};e.forEach((e=>{r(`https://api.themoviedb.org/3/movie/${e}?&api_key=90080ff184cabebdf1b42eaa88fb5738&language=en-US&page=1`,t).then((t=>t.json())).then((t=>{console.log(t);G(t)})).catch((t=>console.error("error:"+t)))}))}b.classList.toggle("is-hidden"),b.addEventListener("click",(t=>{x.innerHTML,c("watched");let e=document.createElement("p");e.setAttribute("class","empty-list"),e.textContent='Oops ! Your "Watched" library is empty !',x.append(e)})),v.classList.contains("is-hidden")||v.classList.toggle("is-hidden")})),y.addEventListener("click",(t=>{x.innerHTML=null;const e=i("queued");if(paginationContainer.style.display="none",void 0===e||0===e.length){let t=document.createElement("p");t.setAttribute("class","empty-list"),t.textContent='Oops ! Your "Queued" library is empty !',x.append(t)}else{const t={headers:{Accept:"application/json"}};e.forEach((e=>{r(`https://api.themoviedb.org/3/movie/${e}?&api_key=90080ff184cabebdf1b42eaa88fb5738&language=en-US&page=1`,t).then((t=>t.json())).then((t=>{console.log(t);G(t)})).catch((t=>console.error("error:"+t)))}))}v.classList.toggle("is-hidden"),v.addEventListener("click",(t=>{x.innerHTML=null,c("queued");let e=document.createElement("p");e.setAttribute("class","empty-list"),e.textContent='Oops ! Your "Queued" library is empty !',x.append(e)})),b.classList.contains("is-hidden")||b.classList.toggle("is-hidden")})),r(k,w).then((t=>t.json())).then((t=>{x.innerHTML=null,console.log(t.results);const e=t.results;paginationContainer.style.display="block",e.map((t=>{W(t)})),currentPage=1,paginationContainer.addEventListener("click",(t=>{currentPage=t.currentTarget.querySelector(".active>span").textContent;let e=`https://api.themoviedb.org/3/trending/movie/day?language=en-US&page=${currentPage}`;x.innerHTML=null,r(e,w).then((t=>t.json())).then((t=>{console.log(t),t.total_pages<20&&(totalPages=t.total_pages),t.results.map((t=>{W(t)})),document.querySelectorAll(".hero-cards-link").forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault();const e=t.currentTarget,n=e.href;_.setAttribute("src",n);const o=e.getAttribute("id");_.setAttribute("id",o),D("queued",o,Y,Z),D("watched",o,H,U);const r=e.getAttribute("title");$.textContent=r;const s=e.getAttribute("vote");P.textContent=s;const i=e.getAttribute("votes");T.textContent=i;const c=e.getAttribute("popularity");j.textContent=c;const l=e.getAttribute("original_title");M.textContent=l;const a=e.getAttribute("description");I.textContent=a;const d=e.getAttribute("genres");O.textContent=d,S.classList.toggle("is-hidden")}))}))})).catch((t=>console.error("error:"+t)))}));document.querySelectorAll(".hero-cards-link").forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault();const e=t.currentTarget,n=e.href;_.setAttribute("src",n);const o=e.getAttribute("id");_.setAttribute("id",o),D("queued",o,Y,Z),D("watched",o,H,U);const r=e.getAttribute("title");$.textContent=r;const s=e.getAttribute("vote");P.textContent=s;const i=e.getAttribute("votes");T.textContent=i;const c=e.getAttribute("popularity");j.textContent=c;const l=e.getAttribute("original_title");M.textContent=l;const a=e.getAttribute("description");I.textContent=a;const d=e.getAttribute("genres");O.textContent=d,S.classList.toggle("is-hidden")}))}))})).catch((t=>console.error("error:"+t)));const R=document.querySelector(".page-up");window.onscroll=function(){document.documentElement.scrollTop>700?R.style.display="flex":R.style.display="none"},R.addEventListener("click",(()=>{document.documentElement.scrollTop=0}));const z=document.querySelector(".footer-modal-button"),Q=document.querySelector(".footer-modal-close-button"),B=document.querySelector(".footer-modal");B.style.display="none",z.addEventListener("click",(()=>{B.style.display="flex"})),Q.addEventListener("click",(()=>{B.style.display="none"})),window.addEventListener("click",(t=>{t.target==B&&(B.style.display="none")})),window.addEventListener("keyup",(t=>{"Escape"===t.key&&(B.style.display="none")}));
//# sourceMappingURL=index.4308b27c.js.map
